Дорожная карта разработки экосистемы Go2Asia (до релиза Beta)

Go2Asia – это комплексная платформа, развитие которой разбито на несколько фаз, где каждая фаза добавляет новый функционал и инфраструктуру. При этом соблюдается единый подход: фронтенды реализуются как PWA-микрофронтенды, бэкенды – как микросервисы (на Cursor), с автоматическим CI/CD деплоем через Netlify и Cloudflare, а аутентификация централизована через SSO-сервис (Clerk). Ниже представлена подробная дорожная карта по фазам и этапам (до Beta), фокусируясь на технической реализации и UX/UI задачах. Маркетинговые, аналитические и юридические аспекты не рассматриваются.
Фаза 0: Архитектурное основание
•	Монорепозиторий и “Capsule” структура: Проект инициализирован как единый монорепозиторий go2asia/ с продуманной структурой директорий. Код организован по «капсулам» для разных компонентов: apps/ (фронтенд PWA-модули – например, Atlas, Blog), services/ (микросервисы бэкенда – Auth, Content и др.), packages/ (общие библиотеки, контракты, SDK) и infra/ (скрипты и конфигурации). Такая декомпозиция упрощает параллельную разработку и повторное использование кода, задавая основу Capsule-политики модульности.
•	CI/CD и базовая инфраструктура: Настроены инструменты контейнеризации и автодеплоя. Все сервисы упакованы в Docker-образы; выполнена начальная инициализация БД (Neon PostgreSQL) с миграциями (ORM Drizzle). Внедрены GitHub Actions для автоматической сборки, тестирования и деплоя при изменениях в main. Реализована механика preview-deployment: каждая ветка разворачивается на временном URL (Netlify) для оперативного тестирования изменений.
•	Облачные сервисы и сеть: Зарегистрован основной домен (go2asia.space) и подключён к Cloudflare для управления DNS. Cloudflare обеспечивает CDN-кеширование статики, WAF и DDoS-защиту. Настроено облачное хранилище Cloudflare R2 для пользовательских медиафайлов. Заложена основа для исполнения функций на Edge (Cloudflare Workers) – планируется вынос тяжёлых задач (вебхуки, ресурсоёмкие API-вызовы) в бессерверные функции ближе к пользователю на более поздних фазах.
•	Единая аутентификация: Выполнена интеграция SSO-сервиса Clerk (подготовлены приложение, домены, callback-URL) для централизованного управления пользователями. Все фронтенд-модули используют общую базу пользователей Clerk, обеспечивая единый вход: авторизовавшись один раз, пользователь получает доступ ко всем разделам платформы. На этом этапе заложена базовая модель ролей (Spacer, VIP, PRO, Partner, Admin) в профиле Clerk, хотя сами ограничения по ролям будут реализовываться на уровне приложений в следующих фазах.
•	PWA-оболочка (App Shell) и микрофронтенды: Спроектирована архитектура фронтенда по принципу App Shell + Microfrontends. Создан базовый каркас главного приложения (App Shell) – универсальный контейнер (Next.js 15 + React 18) с общим UI – шапкой, навигационным меню, сервис-воркером для офлайн-режима. App Shell отвечает за маршрутизацию и ленивую загрузку удалённых модулей: маршруты для основных разделов (/atlas, /blog, /pulse и т.д.) определены заранее. При переходе в раздел динамически подключается соответствующий микрофронтенд (например, бандл Atlas Asia при входе на /atlas) – благодаря этому первоначальная загрузка приложения остаётся лёгкой, а функциональные модули могут обновляться и деплоиться независимо. Реализован mobile-first дизайн и базовый офлайн-режим: критичный контент кешируется, при отсутствии сети отображается страница “Вы офлайн”. Также добавлен PWA-манифест и заготовка сервис-воркера (на базе Workbox) с правилами кеширования по умолчанию.
•	Итог фазы 0: К завершению этой фазы команда получила готовый фундамент: настроенный монорепозиторий, CI/CD, базовые облачные сервисы и каркас PWA-приложения. Этот прочный базис позволил сразу перейти к разработке пользовательских модулей. (Фаза 0 считается завершённой на 100%, технический долг на этом этапе минимален.)


 
Фаза 1: Пилотные контент-модули и базовые сервисы
Цели фазы: Быстро выпустить основные контентные разделы платформы (энциклопедия мест, афиша событий, медиа-блог) и запустить необходимые базовые сервисы на бэкенде. На этом этапе реализуются первые пилотные фронтенд-модули (MVP-версии) и фундаментальные микросервисы, закладывающие базовую бизнес-логику.
Фронтенд-модули (контент и офлайн-доступ)
•	Atlas Asia (энциклопедия мест): Разработан как WIKI-справочник, содержащий страницы стран, городов и локаций с описаниями, фото и координатами. Реализован механизм кеширования: последние просмотренные места сохраняются локально для офлайн-доступа. Фронтенд получает данные через единый Content API (см. ниже) .
•	Pulse Asia (лента событий региона): Реализован как лента афиши мероприятий с карточками событий. Модуль поддерживает поиск и фильтрацию событий по тегам, дате, локации. Обновление списка событий происходит через API, при этом для офлайна приложение кеширует последние просмотренные или ближайшие по времени события – это позволяет пользователю видеть кое-какой контент даже без подключения к интернету.
•	Blog Asia (медиа-блог): Запущен как модуль статей и новостей. Особое внимание – SEO: использованы SSR/SSG-режимы (например, возможности Next.js) для генерации страниц статей, чтобы поисковики индексировали контент. На уровне MVP контент для Blog может наполняться через внешний CMS или Markdown-репозиторий, а пользователям выдаваться через Content API либо как статически сгенерированные страницы.
•	Интеграция в PWA: Все три фронтенд-модуля встроены в общий App Shell. При переходе пользователя на соответствующий URL (/atlas, /pulse, /blog) App Shell загружает удалённый бандл модуля и монтирует его в интерфейс. Загрузка реализована лениво (lazy-load) по требованию: начальный бандл приложения не включает код этих модулей, они подтягиваются при первом посещении. Это обеспечило быстрое время первого экрана и единый UX при переходах между разделами.

Бэкенд-сервисы (MVP функциональность)
•	Auth Service: Сервис аутентификации, интегрированный с Clerk. Хотя Clerk ведёт хранение пользователей, собственный микросервис Auth обрабатывает вебхуки Clerk (например, событие создания нового пользователя) и хранит дополнительные поля профиля – такие как реферальный код, роли пользователя и пр. Сервис предоставляет фронтендам JWT-токен сессии Clerk и выступает посредником для действий вроде подтверждения email или обновления профиля. На этапе MVP реализована базовая логика, далее планируется расширение (например, поддержка refresh-токенов, восстановление пароля). Примечание: На конец фазы 1 интеграция Clerk SSO во фронтенд ещё не завершена (авторизация фактически отсутствует) – реализация единого входа и защиту маршрутов предстоит доделать в приоритетном порядке.
•	Content API Service: Унифицированный сервис контента, агрегирующий данные для Atlas, Pulse, Blog. Создана единая база данных (PostgreSQL) с основными схемами: записи статей, места, события, теги и пр. Предоставлены API-методы для фронтов, например: GET /api/content/places?country=VN (список мест по стране) или .../posts?tag=travel (статьи по тегу). На фазе 1 реализован минимально необходимый набор функций Content API. Для фронтенда организована единая точка чтения данных. 
Задачи для доработки: стабилизировать структуру API, добавить сортировку, фильтрацию и поиск по записям – эти возможности заложены в план на следующую фазу.
•	Reactions Service: Сервис, отвечающий за все пользовательские реакции в экосистеме Go2Asia: лайки, репосты, отзывы, отметки о прохождении квестов, прогресс в геймификации и прочие действия. Реализует унифицированную модель: любая реакция сохраняется с типом (like, repost, feedback, completed, и др.), целевым объектом (тип и ID), payload (при необходимости) и мета-данными.
Reactions Service: 
o	предоставляет API:POST /api/reactions — создать реакцию; GET /api/reactions/stats?target=type:id — агрегированная статистика.
o	связывается с другими сервисами: отправляет reaction.created в Event Bus; подключён к Notification Service (например, “на ваш пост сделали репост”); подключён к Connect Service (начисление Points/NFT)
o	реализует базовые антифрод-механизмы и лимиты (например, один лайк в сутки от пользователя);
o	поддерживает soft-moderation и удаление реакций при жалобах/отклонении контента.
Таким образом, Reactions Service формирует единый слой взаимодействия пользователей с контентом во всей экосистеме Go2Asia — от модулей Blog, Atlas, Pulse до Space, RF и Quest.
•	Notification Service:  Микросервис для централизованной отправки уведомлений пользователям через push (OneSignal), email, Telegram и другие каналы. Подписывается на события в Event Bus, получая информацию о действиях пользователей (новый репост, лайк, достижение уровня, полученный бейдж, приглашение друга и т.д.) и формирует соответствующие уведомления.
Реализует: получение событий (например, reaction.created, quest.completed, post.shared) из Event Bus; шаблоны уведомлений по каналам (push, email, Telegram); отправку через внешние API (OneSignal, Mailer API, Telegram Bot); хранение лога уведомлений и их статусов (доставлено, открыто, ошибка); (опционально) настройку пользователем предпочтений уведомлений (что получать и куда).
Взаимодействует с: Reactions Service (лайки, репосты, фидбэк); Connect Service (награды, level up); Space Service (новые посты/подписки/ответы); Quest/Atlas (завершение квестов, публикации).
Примечание: Для MVP реализуется базовая версия: OneSignal (push) + email через Postbox или Mailgun. Telegram и предпочтения пользователя — в Фазе 2.
•	Referral Service: Сервис реферальной программы (фундамент будущего модуля Connect). Реализована базовая логика: генерация уникальных реферальных кодов для каждого пользователя, хранение связей «кто кого пригласил» и начисление бонусов за регистрацию приглашённых друзей. При запуске платформы это позволяет стимулировать рост аудитории с первого дня: пользователи могут получать реферальные ссылки и приглашать друзей, даже если соцсеть ещё не запущена. Интеграция с Auth/Clerk: при регистрации нового пользователя по реферальной ссылке Clerk через webhook вызывает Referral Service, и сервис начисляет пригласившему базовые бонусные Points (см. Token Service).
•	Token Service: Сервис внутренней валюты лояльности – Points. Ведётся учёт балансов поинтов на счетах пользователей и операций начислений/списаний. На фазе 1 этот сервис задействован в паре базовых кейсов: начисление поинтов за успешную регистрацию по реферальному коду и за первые активности нового пользователя (например, первый опубликованный пост, первый лайк). Реализация упрощённая: Points существуют только внутри платформы, без блокчейна, хранятся в БД. API Token Service позволяет получать текущий баланс пользователя и производить начисления (вызывается другими сервисами, например Referral Service при событии реферала). 
Примечание: никакой крипто-логики или токена G2A на этом этапе нет – токеномика будет введена на фазах 3+, а пока Points используются сугубо для геймификации. В дальнейшем (Phase 3) этот сервис эволюционирует, чтобы учитывать уже и внешнюю криптовалюту G2A.
Token Service — сервис учёта Points (внутренние очки) и NFT-бейджей (off chain цифровые награды). 
На Фазе 1:
o	Реализуется хранение балансов Points и истории транзакций (Postgres);
o	Обрабатываются события от других модулей (через Event Ingest) и начисляются награды;
o	Реализуется присвоение NFT-бейджей (off-chain, логические сущности);
o	Предоставляются API для фронтенда Connect Asia: GET /wallet, GET /nft, GET /history, GET /badge/:id;
o	Все NFT — off-chain, используются для геймификации и статуса (не связаны с блокчейном);
o	В будущем (Фаза 3+) планируется экспорт NFT в on-chain и интеграция с Blockchain Gateway.
•	Интеграция фронта и бэка: Взаимодействие между PWA-модулями и микросервисами организовано через открытые REST/GraphQL API. Контентные модули Atlas, Pulse, Blog делают в основном анонимные запросы к Content API для получения публичных данных, а действия, требующие авторизации (например, отправка комментария), будут сопровождаться Clerk JWT токеном в заголовке запроса. Микросервисы общаются тоже только через API либо очереди – никакого прямого доступа к чужим базам (например, Referral вызывает метод Token Service для начисления поинтов, вместо прямой записи в его БД). Такой Capsule-подход снижает связность компонентов и повышает надёжность системы.
•	Деплой и окружение: После реализации функционала фазы 1 выполнен автоматизированный деплой всех компонентов. Фронтенды (Atlas, Pulse, Blog) собираются и выкладываются как статические бандлы на Netlify (либо в состав общего App Shell). Одновременно CI разворачивает бэкенд-сервисы – их Docker-образы отправляются в регистр и запускаются на Cloudflare Workers. Cloudflare CDN раздаёт статику PWA глобально, а Cloudflare WAF защищает публичные API (настроены правила rate-limiting и гео-блокировки).
•	Результат фазы 1: К окончанию этой фазы платформа была запущена в базовом виде. Пользователь может зарегистрироваться и войти (гостевой режим разрешён для просмотра контента), просматривать основные разделы – локации Atlas, события Pulse, статьи Blog – и получать реферальные бонусы за приглашённых друзей. При этом социальные функции (общение между пользователями), партнерские кабинеты и полноценная экономика токенов ещё не реализованы – они запланированы на будущие фазы. Технически проект достиг ~45-50% готовности. Важный следующий шаг – устранение выявленного технического долга: стабильности API пока не хватает (нет поиска, сортировки, расширенных фильтров), интеграция фронтенда с реальными данными во многом не завершена (большинство модулей пока использует мок-данные), а единая авторизация через Clerk не внедрена. Эти задачи становятся приоритетом при переходе к фазе 2.
•	Дополнение к разделу Reactions / Connect / Token Service.
Учёт ролей пользователей. Сервисы Reactions, Connect и Token Service взаимодействуют с ролевой системой (см. role-users.md). Это позволяет:
o	Учитывать статус пользователя при начислении наград (например, PRO получают повышенные бонусы или уникальные NFT).
o	Применять ограничения или фильтры (например, только PRO могут делать репосты в тематические группы).
o	Отправлять специфичные уведомления (например, бизнес-партнёру — о публикации отзыва на его место).
В перспективе возможна поддержка более сложной логики на уровне ролей и уровней (например, PRO Lv3 получает x1.3 Points).
•	Дополнение к разделу Контентная модель (Blog, Atlas, Pulse).
Унификация системы контентного ввода. На этапе MVP допускается смешанный режим ввода контента — через Markdown-редакторы, YAML/JSON-файлы или встроенные поля админпанели. Однако в дальнейшем:
o	Планируется унификация подхода к публикации и модерации контента через внутреннюю CMS (админ-панели для каждого модуля).
o	Стандартизация форматов (например, структура гайда или подборки) через схемы JSON + Markdown.
o	Возможность подключения AI-инструментов генерации или улучшения текстов (AI Content Assistant).
Это обеспечит редакторам/кураторам Go2Asia единую точку управления контентом, без привязки к внешним CMS.
•	Дополнение - Pipeline и разработка.
После апрельской итерации проект полностью отказался от использования Bolt.New как части production-пайплайна. Он сохраняется исключительно как инструмент прототипирования и личных референсов.Основной pipeline разработки теперь:
o	Cursor (AI Composer) — единственный инструмент генерации фронтенда, backend-сервисов и инфраструктуры,
o	Capsules Policy — капсульная структура монорепозитория с контекстной изоляцией модулей,
o	Netlify — CI/CD, staging, deploy preview, middleware,
o	Storybook и UI Kit — визуальный контроль компонентов и паттернов,
o	OpenAPI / Spectral — валидация API-контрактов.
Стандарты разработки и генерации (Cursor Rules, README.md, PLAN.md, CONTRIBUTING.md и пр.) поддерживаются во всех модулях.

Фаза 2: Core-модули (социальные функции, геймификация, партнеры) и расширение бэкенда
Цели фазы: Добавить в экосистему ключевые интерактивные сервисы и социальные механики, расширить возможности бэкенда для поддержки растущей функциональности. В этой фазе запускаются новые фронтенд-модули, значительно обогащающие UX (социальная сеть, квесты, партнерский каталог и пр.), и параллельно внедряются дополнительные микросервисы, хранилища и поисковые инструменты. Также завершаются интеграции, начатые в фазе 1 (полная связка фронта с API, ввод единой авторизации и т.д.).
Новые фронтенд-модули и UX-функции
•	Space Asia (социальная сеть сообщества): Полноценный модуль соцсети, интегрированный в App Shell (в навигации появляется вкладка профиля/ленты Space). Реализуется лента новостей – бесконечная прокрутка постов от друзей, групп или рекомендованных авторов. Пользователи могут создавать собственные посты (текстовые, с фото/видео), оставлять комментарии, ставить лайки. Предусмотрены функции подписок и дружбы, возможно создание интересов/групп и базовые чаты (если не в этой фазе, то запланированы). Особый упор – мобильный UX и офлайн-дружелюбность: лента кешируется, чтобы при плохом интернете мгновенно показывать уже загруженные посты; можно писать черновики постов офлайн с последующей синхронизацией. Для вовлечения пользователей подключены push-уведомления: в браузерной PWA через сервис-воркер (интеграция с OneSignal или Firebase) рассылаются уведомления о новых лайках, комментариях, упоминаниях и личных сообщениях. Техническая зависимость: для реализации Space необходим бэкенд Space Service (см. ниже), а мгновенное обновление фида может потребовать WebSocket-соединения или Long Polling на следующей фазе.
•	Connect Asia (реферальный и экономический кабинет): В этой фазе появляется фронтенд для ранее заложенного реферально-экономического модуля Connect. Он доступен по маршруту /connect (и через боковое меню). В пользовательском режиме Connect предоставляет дашборд “кошелька”: отображаются балансы поинтов и (в перспективе) токенов G2A, дерево приглашенных рефералов 1-го и 2-го уровня, статус пользователя (обычный/VIP/PRO) и достигнутые награды. Интерфейс включает графики и статистику: например, прогресс до следующего уровня, таблицу транзакций с фильтрацией по дате или типу операции. Оффлайн-режим для Connect не критичен (данные требуют актуальности с сервера), но последняя просмотренная информация (например, баланс и последние 5 транзакций) может кешироваться для отображения без сети. PRO-кураторы и бизнес-партнёры в этом модуле получают доступ к расширенной информации: метрики их вкладов – например, сколько партнеров привлечено, активность рефералов, начисленные комиссии. (Возможно, для партнёров будет отдельный интерфейс, но на данном этапе достаточно показать им релевантные данные в Connect.) Эта часть потребует разграничения прав и ролей (см. Auth/Clerk) при выводе данных.
•	Russian Friendly (каталог партнёров): Модуль для работы с бизнес-партнёрами. В фазе 2 реализуется публичная витрина: каталог мест-партнеров (отели, рестораны, сервисы) с фильтрами и поиском по категориям, локации, услугам. Пользователи (туристы) могут просматривать список Russian Friendly заведений, где для русскоязычных гостей действуют специальные условия или скидки. Реализован экран детали партнёра с описанием, фото, картой расположения, а также метками (тегами) и отзывами при наличии. Оффлайн-возможность: ранее просмотренные списки и карточки партнёров могут кешироваться, чтобы их можно было открыть без интернета. Для PRO-кураторов предусматривается интерфейс привлечения новых партнеров: они могут отправить заявку/анкету нового бизнеса прямо из приложения (либо через отдельный раздел). Кабинет партнёра (для самих бизнесов) пока не реализуется – он запланирован на последующие фазы, но в бэкенде возможно расширение Referral Service или создание Partner Service для хранения профилей партнеров (см. ниже).
•	Quest Asia (геймификация – квесты): Новый модуль интерактивных заданий для пользователей. Quest предлагает список миссий и квестов – например: посетить определённое место и отметиться, пройти туристический маршрут, поучаствовать в мероприятии, создать контент – за выполнение пользователь получает вознаграждения (поинты, NFT-бейджи). Фронтенд Quest реализован с элементами игрового дизайна: список доступных квестов с фильтрацией по типу/локации, экран деталей квеста с описанием заданий, а также интерфейс отслеживания прогресса (progress-bar, отметка выполненных шагов). Важная особенность – офлайн-режим: активный квест сохраняется локально на устройстве, чтобы пользователь мог продолжать выполнение без сети; прогресс синхронизируется с сервером, когда подключение восстановлено (реализовано через Background Sync API или повторяющиеся запросы). PRO-пользователи смогут создавать собственные квесты для сообщества (например, авторские туры или челленджи) – эта функция может быть добавлена на этом этапе через админ-панель или отложена до появления большего числа PRO.
•	Guru Asia (“гид рядом со мной”): Ключевой модуль для путешественников, отображающий на карте и списком всё интересное вокруг пользователя. Guru агрегирует данные из всех остальных модулей: места из Atlas, события из Pulse, активных PRO-пользователей/кураторов из Space (рядом), партнерские локации из RF, активные квесты из Quest – и выдает единый список/карту объектов поблизости. Фронтенд Guru – это карта (библиотека Leaflet или Mapbox) с точками и вкладка списка, которая показывает объекты, отсортированные по расстоянию или актуальности. Реализована геолокация пользователя и настройка радиуса поиска (по умолчанию ~5–10 минут ходьбы). Офлайн: Guru кэширует данные о ближайших местах, чтобы при потере сети отображать последний известный список интересных мест вокруг. Если интернет недоступен, показывается соответствующий офлайн-экран + сохранённые ранее объекты. Интеграция UX: карточки объектов в Guru связаны с другими модулями – например, нажав на место из списка, пользователь переходит на страницу этой локации в Atlas; событие открывается в Pulse; партнер – в RF; профиль пользователя – в Space; квест – в Quest. Для бесшовности навигации дизайн карточек унифицирован, а переходы не требуют перезагрузки приложения.

Расширение бэкенда и инфраструктуры
•	Space Service: Вводится новый микросервис для социальной сети Space. Он хранит и обрабатывает данные постов, комментариев, связей “друзей/подписок”, уведомлений и прочих соц. объектов. Реализованы API для ленты (например, GET /api/space/feed?userId=... возвращает персонализированный фид постов), для создания поста/комментария (POST /api/space/post), для управления дружбой и подписками, для модерации контента (скрытие/удаление постов). Для поддержки реального времени рассматривается интеграция WebSocket или SSE: возможно, обновление фида (новые посты/комментарии) будет в дальнейшем происходить мгновенно через постоянное соединение. Также, Space Service работает в связке с Notification механикой: при событиях (лайк, комментарий, новое сообщение) либо вызывает внешний push-сервис (OneSignal), либо шлет уведомление в общий Event Bus (см. ниже) – чтобы в PWA пользователю пришёл push о новой активности.
•	Space Service: Сервис социальной сети Go2Asia, отвечающий за публикацию пользовательских постов, формирование персонализированной ленты (фида), управление связями между пользователями (“друзья”, “подписки”), модерацию и удаление контента. Реализует API для создания и получения постов, подписки, получения фида и админ-модерации.
Примечание: Space Service не хранит и не обрабатывает реакции (лайки, репосты, отзывы и пр.) — они централизованно ведутся в Reactions Service, который был введён ранее в Фазе 1. Space лишь отображает агрегированную информацию, полученную через API Reactions (например, количество лайков, репостов или отзывов к посту).
Также, Space Service взаимодействует с Notification Service — события (новый пост, подписка и пр.) могут генерировать push-уведомления или писаться в Event Bus. В будущем планируется внедрение WebSocket/SSE для real-time обновления фида.
•	Quest Service: Микросервис для управления квестами. Хранит список всех заданий/миссий, правила их выполнения, прогресс каждого пользователя по квестам. Предоставляет методы API: например, начало квеста (POST /api/quest/start?questId=X) – регистрирует участие пользователя; обновление прогресса (POST /api/quest/update) – отмечает выполнение этапа (с учётом идемпотентности, чтобы при повторной отправке из офлайна не задвоить прогресс). При завершении квеста сервис начисляет награды: например, вызывает метод Token Service для добавления Points участнику и фиксирует выдачу NFT-бейджа за пройденный квест (пока просто сохраняет отметку, так как блокчейн-интеграция NFT будет на следующей фазе). Также Quest Service генерирует событие о выполнении квеста, которое может быть опубликовано в Event Bus – это позволит, например, Referral Service начислить бонус тому, кто привёл игрока, а Notification-сервису отправить поздравительное уведомление.
•	Guru Service: Специальный агрегатор геоданных для модуля Guru. Этот микросервис выполняет роль Backend-for-Frontend: по одному запросу от фронта Guru (GET /api/guru/nearby?lat=...&lng=...) он собирает данные с разных сервисов – запрашивает места из Content/Atlas, события из Pulse, партнеров из RF, активных пользователей из Space, квесты из Quest – и объединяет всё в единый отсортированный список объектов. Для производительности используются гео-индексы (поиск ближайших объектов по координатам) и кеширование результатов в памяти на короткое время. Guru Service – пример микросервиса-“клея” без собственного фронтенда, который связывает данные нескольких других модулей. Его реализация значительно упростит логику на клиенте (фронтенд Guru получает уже готовый агрегированный ответ) ценой некоторого усложнения на сервере, что оправдано для лучшего UX.
•	Referral/Partner Service (расширение Connect): Реферальный сервис, запущенный на фазе 1, расширяется. Теперь, помимо базовых рефералов пользователей, нужно учитывать партнёрскую программу: PRO-кураторы могут приглашать бизнес-партнёров и получать комиссии, а сами партнёры привязываются к кураторам. Добавляются новые сущности и поля – например, связь «Partner → PRO (куратор)» и учет комиссий за активацию ваучеров или продаж. Возможно решение: расширить существующий Referral Service или вынести логику в отдельный Partner Service. На фазе 2 достаточно хранить партнеров и их кураторов, а расчёт вознаграждений можно делать через тот же Token Service (начисляя PRO-пользователю Points за активность его партнёров). Вводится дифференциация ролей в интерфейсе: PRO-кураторы видят дополнительные данные в Connect/RF, могут отправлять заявки на добавление партнёров; партнеры (при авторизации) смогут редактировать информацию о своём заведении и смотреть простую статистику (эти функции, однако, вероятно появятся ближе к фазе 3, когда будет реализован кабинет партнёра). Также на этом этапе закладывается интеграция уведомлений: например, о новых заявках партнеров – может быть реализовано через отправку email/Telegram либо через Notification Service (см. ниже).
•	Storage & Search: Подключены общие инфраструктурные компоненты для хранения файлов и полнотекстового поиска. Во-первых, организовано централизованное хранилище медиа на Cloudflare R2 (если не было полностью настроено ранее) – все модули теперь сохраняют пользовательские фото, аватары, изображения контента в R2, чтобы не зависеть от сторонних хостингов. Во-вторых, развёрнут сервис поиска – например, кластер MeiliSearch (легкий альтернативный ElasticSearch) для индексации контента из разных модулей. Налажен экспорт данных: контент из Content Service (статьи, места, события) и профили Space индексируются для быстрого поиска и автодополнения по ключевым словам. Благодаря этому глобальный поиск (строка в топ-баре App Shell) начинает искать сразу по всем основным категориям – статьям, локациям, событиям, пользователям – и выдавать результаты мгновенно. Этот же механизм используется внутри модулей для локального поиска (например, поиск партнеров в RF, поиск пользователей/групп в Space и т.д.).
•	Админ-панель (Web CMS): Создается единый административный интерфейс для контент-менеджмента и модерации во всей экосистеме. Реализуется как отдельное PWA-приложение (capsule в apps/admin), доступное только пользователям с ролями Editor/Moderator/Admin (через Clerk SSO). Функциональность админ-панели охватывает: управление справочником локаций Atlas (страны, города, места); модерацию и добавление событий Pulse; публикацию статей Blog (редакционными командами); модерацию пользовательских постов и комментариев в Space; создание и редактирование квестов Quest; просмотр и редактирование списка партнёров RF; обзор реферальной статистики Connect. Панель предоставляет удобный UI для CRUD-операций: формы создания/редактирования, загрузка медиа (с предпросмотром, обрезкой и хранением файлов в R2), управление тегами и категориями, назначение ролей пользователям, и т.д. Все действия в админке выполняются через вызовы существующих микросервисов по их API – прямого доступа к базам нет (что сохраняет Capsule-принцип и безопасность). В результате введения внутренней CMS, отпадает необходимость во внешних инструментах наподобие Contentful: весь контент ведется централизованно внутри платформы. Это ликвидирует технический долг фаз 0–1, когда данные приходилось наполнять вручную через БД или сторонние системы.
•	Event Bus (шина событий): Для улучшения связности сервисов запускается асинхронная шина событий. Выбрана реализация на базе Cloudflare Queues. Ключевая идея: микросервисы при наступлении событий публикуют сообщения, на которые могут подписываться другие сервисы. Например, Quest Service после завершения квеста шлет событие quest.completed в шину; Referral Service, получив такое событие, проверяет, был ли пользователь приглашен рефералом, и начисляет бонус тому, кто его пригласил; Notification Service отправляет пуш-уведомление пользователю о завершении квеста. Другой пример: Space Service при новом посте отправляет событие post.created, которое может использоваться для обновления счетчиков в профиле пользователя или для индексирования нового контента в поиске. Event Bus снижает связанность – сервисы больше не вызывают напрямую методы друг друга, а реагируют на события, что улучшает масштабируемость и упрощает отладку.
•	Завершение интеграций Phase 1: Параллельно с разработкой новых модулей завершаются начатые ранее интеграционные задачи. Во-первых, все фронтенды переводятся с моков на реальные API: Atlas, Pulse, Blog теперь полноценно получают данные из Content Service вместо заглушек; модуль Connect подключается к данным Token Service и Referral Service (балансы, транзакции, рефералы); для Russian Friendly либо развёрнут отдельный RF Service, либо временно используются данные Content Service (до реализации полного Partner Service). Во-вторых, внедряется Clerk SSO во фронтенд: все модули начинают уважать авторизацию – защищенные маршруты покрываются middleware, требующим входа пользователя. После логина через любой модуль Clerk устанавливает JWT cookie на домене .go2asia.space, и это сессия распознается всеми микрофронтендами. Добавляется UI-индикация входа (иконка профиля, меню “Выйти”) и страница настроек профиля (изменение аватарки, пароля, предпочтений). Также реализуется на уровне бэкенда проверка прав доступа по ролям: например, вызовы админских API требуют роли Admin, создание квеста – роли PRO и т.д.. Роли (Spacer/VIP/PRO/Partner/Admin) хранятся в Clerk и учитываются сервисами (Auth Service обновляется для этой логики).
•	Оптимизация и техдолг (фаза 2): К концу фазы 2 большая часть функциональности реализована, поэтому уделяется внимание качеству и оптимизации. Во всех сервисах завершается реализация пропущенных ранее возможностей: добавляются сортировка, фильтры и поиск в Content Service; в Auth Service – флоу обновления токенов и восстановления доступа, полноценная политика ролей; в Token Service – правила начисления Points за различные действия, система уровней и достижений; в Referral Service – расширенная логика рефералов (учёт нескольких уровней, визуализация реферального дерева для Connect). Все эти улучшения стабилизируют API платформы – к концу фазы 2 оно должно стать стабильным и пригодным для интеграции без изменений. Кроме того, проводится масштабное тестирование: покрытие unit-тестами увеличивается до >80%, пишутся интеграционные тесты для основных API ендпоинтов и E2E-тесты для критичных пользовательских сценариев (регистрация, создание поста, прохождение квеста и т.п.). Для обеспечения качества Beta-деплоя вводится автоматическое контрактное тестирование API (проверка соответствия OpenAPI-спецификациям). По части производительности – оптимизируется загрузка ресурсов: включается автоматическое сжатие и ресайз изображений (Cloudflare Images), повсеместно используется ленивая загрузка медиа и неважных компонентов, активнее кешируются данные на клиенте. PWA-сервис-воркер дорабатывается для более агрессивного кеширования и фонового обновления данных (чтобы при повторном открытии приложения пользователю сразу показывать контент из кеша и незаметно обновлять его). Таким образом, технический долг, накопленный за первые фазы, планомерно погашается: временные решения из MVP переписываются на устойчивые и масштабируемые. Например, если до сих пор какие-то данные Blog брал напрямую из внешнего CMS или из мока, то на этом этапе он полностью переведен на внутренний Content API; жёстко захардкоженные параметры вынесены в конфиги; заглушки заменены реальными механизмами.
•	Итог фазы 2: После реализации всех запланированных модулей и сервисов экосистема переходит от уровня MVP к богатому, социально ориентированному продукту. Пользователи получают инструменты общения (Space), вовлечения и геймификации (Quest, Guru), взаимодействия с бизнесами (Russian Friendly) и контроля своей экономической активности (Connect) – всё в рамках единого приложения. Технически платформа стала сложнее (значительно выросло число сервисов и компонентов), но благодаря модульной архитектуре и принципам Capsule-политики это не привело к «ломке» системы: новые сервисы подключены через независимые API и событийную шину, не нарушая работу существующих функций. Централизованные решения для хранения и поиска готовят систему к росту объёма данных, а внедрение тестов, оптимизаций и мониторинга обеспечивают необходимую стабильность перед публичным Beta-релизом.

Фаза 3: Интеграция экономики и единый пользовательский опыт (подготовка Beta)
Цели фазы: Превратить Go2Asia в самодостаточную экономику с собственным утилитарным токеном и глубокой вовлеченностью пользователей, а также интегрировать разрозненные сервисы в единое пользовательское пространство. Это означает внедрение блокчейн-компонентов (криптокошелёк, токен G2A, NFT) и связанных механик (конверсия Points↔G2A, DAO-голосования, paywall-контент), а с другой стороны – объединение разных разделов приложения для цельного UX (например, единый кабинет вместо нескольких отдельных). К концу этой фазы планируется выпустить Beta-версию платформы, где все ключевые модули и сервисы работают в связке и протестированы.

Блокчейн и токеномика G2A
•	Blockchain Wallet Gateway: Разворачивается инфраструктурный микросервис-шлюз для взаимодействия с блокчейном TON – выбранной платформой токена G2A. Gateway обеспечивает двунаправленную связь между внутренней системой (Points и локальные NFT-бейджи в базе) и on-chain активами (токены G2A и NFT в сети TON). Основные функции:
• Off-chain → On-chain: например, пользователь накопил достаточно Points и хочет превратить свой достижений-бейдж в NFT на блокчейне. Фронтенд (раздел Connect или профиль) отправляет запрос Gateway, тот с помощью TON SDK выполняет mint NFT в сети TON и возвращает подтверждение; параллельно Token/Quest Service помечает соответствующий локальный бейдж как “выведенный on-chain”.
• On-chain → Off-chain: обратная ситуация – пользователь приобрёл токены G2A вне платформы (через биржу/кошелёк) и хочет использовать их внутри Go2Asia. Gateway отслеживает поступление транзакции на адрес платформы (через подписку TON или webhook), валидирует её и сообщает Token Service, который начисляет эквивалентные Points или разблокирует соответствующие внутриигровые преимущества пользователю. Другой пример: партнёр перечисляет G2A-токены за продвижение в платформе – Gateway подтверждает получение и инициирует предоставление услуг (например, обновление статуса партнёра, выпуск ваучеров и т.п.).
Технически, Wallet Gateway может быть реализован как Node.js-сервис на Cursor с TON SDK или как Cloudflare Worker, поскольку важна быстрота и масштабируемость. Особое внимание – безопасность: приватные ключи кошельков/контрактов хранятся в защищенном хранилище (HSM или кастодиальный сервис). На стороне фронтенда, в модуле Connect, появляется интеграция с TON Wallet: пользователю предлагается привязать свой TON-кошелёк, отображается его on-chain баланс G2A, доступны действия «вывести/пополнить» токены.
•	Расширение Token Service (G2A-токен): Вводится собственно криптовалютный токен G2A – утилитарный токен экосистемы, выпускаемый в сети TON. Token Service дополняется учётом балансов G2A у пользователей и операциями конвертации Points ↔️ G2A. Реализуются правила: пользователь может обменять накопленные Points на G2A по установленному курсу (Token Service списывает определённое количество Points и через Wallet Gateway начисляет эквивалентное число G2A на кошелёк пользователя). Обратный обмен (G2A в Points) также возможен: например, партнёр тратит G2A для оплаты сервиса – токены списываются с его on-chain кошелька, а Token Service начисляет партнеру Points или открывает доступ к соответствующей функции. Внедряется базовая токеномика: внутри платформы G2A используется в большинстве транзакций – партнёры платят им за продвижение, PRO-кураторы получают вознаграждения в G2A, платный контент покупается за G2A и т.д. Points при этом остаются внутрисистемной балльной валютой (начисляются за активности, используются для геймификации и рейтингов), а G2A становится связующим звеном с внешней экономикой. Такой двухконтурный подход позволяет сохранить простоту вовлечения (Points не имеют реальной стоимости, ими легко награждать) и одновременно добавить монетизируемость (G2A имеет ценность вне платформы).
•	NFT-награды и коллекции: С существующей системой локальных NFT-бейджей (достижения пользователей) добавляется возможность вывода их в блокчейн. Когда пользователь достигает определённого статуса или события (например, прошёл сложный квест, стал топ-автором месяца), он получает внутриигровой бейдж; теперь этот бейдж можно опционально заминтить в TON как настоящий NFT-трофей. Это требует, чтобы Metadata NFT и логика mint были реализованы в Blockchain Gateway (связка с Token/Quest Service). Аналогично, возможно создание эксклюзивных NFT для продажи или вручения: например, ограниченная коллекция бейджей для VIP-спейсеров или NFT-ваучеры от партнеров. Микросервисы Token/Quest получают расширение под эти сценарии (учёт ID on-chain NFT, ссылки на блокчейн). Эти механики стимулируют активность пользователей, показывая, что их достижения могут иметь стоимость и владение за пределами платформы.
•	DAO и голосования (опционально): Ещё одно направление фазы 3 – элементы децентрализованного управления сообществом. Поскольку G2A – утилитарный токен, активным участникам (особенно PRO) можно дать возможность голосовать за важные решения на платформе пропорционально количеству токенов на счету. Реализация: запускается смарт-контракт DAO в TON, а фронтенд (например, отдельный раздел Governance или встроенный в профиль) отображает текущие предложения/опросы. Пользователи с правом голоса могут голосовать через подключённый TON-кошелёк, их голоса учитываются смарт-контрактом. Для этого может быть создан отдельный Governance Service или использоваться готовая платформа (например, TON Vote) с интеграцией через Wallet Gateway. Данная функция не критична для Beta, но может быть представлена как экспериментальная для PRO-кураторов, усиливая их вовлечённость в развитие сообщества.
•	Монетизация контента: Начинает работать система платного контента. В Blog Asia (или других модулях) некоторые материалы могут отмечаться как премиум – для их просмотра требуется заплатить токенами G2A либо иметь статус VIP. При попытке доступа к такому контенту фронтенд проверяет, есть ли у пользователя необходимый токен/подписка, и предлагает оплатить (через интеграцию TON Wallet). После подтверждения транзакции Wallet Gateway уведомляет систему, и пользователю открывается доступ. Часть токенов за покупку контента может автоматически перечисляться автору (если это, к примеру, статья PRO-автора), а часть – платформе (механизм split-платежа). Для реализации paywall вводится серверная проверка доступа: например, API выдачи платного контента перед возвращением данных сверяется с Token Service, чтобы убедиться, что у пользователя есть право (во избежание обхода на клиенте). Эти функции требуют слаженной работы фронтенда (UI/UX оплаты), бэкенда (проверка и списание токенов) и безопасности (защита от несанкционированного доступа), поэтому их тестирование – важная часть подготовки Beta.

Единый пользовательский опыт и завершающие улучшения
•	Объединённый профиль/кабинет: Платформа накапливает множество данных о пользователе (социальные, игровые, финансовые). В Phase 3 эти разрозненные сведения сводятся в единый пользовательский дашборд. В профиле Space (соцсети) появляется вкладка или раздел “Мой кабинет”, агрегирующий всю ключевую информацию: баланс Points и G2A токенов, собранные NFT-бейджи, статистика приглашённых рефералов и подключённых партнёров, текущий уровень и статус (Spacer/VIP/PRO) со связанными привилегиями. Фактически происходит слияние функциональности Connect Asia с профилем Space, чтобы пользователь не переключался между разными экранами для просмотра достижений и кошелька. Реализация может быть выполнена двумя способами (или комбинированно): (1) Интеграция на фронтенде – модуль Space загружает по API данные из Referral/Token/RF сервисов и отображает их блоками (графики, списки) прямо в профиле; либо через механизм microfrontend federation встраивает компоненты из Connect (например, готовые виджеты баланса или реферального древа). (2) Объединённый BFF (Backend-for-Frontend) – создаётся специальный эндпоинт профиля, который на стороне сервера собирает данные со всех сервисов и возвращает одним JSON, что снижает количество запросов с клиента. В любом случае, к Beta пользовательский UX значительно упрощается: вместо нескольких отдельных разделов у него появляется одна точка доступа ко всей личной информации – социальной активности, прогрессу в квестах, финансовым балансам и наградам. Это повышает вовлечённость, т.к. пользователь видит полный “портрет” своего участия в экосистеме на одном экране.
•	Дополнительные технические сервисы: На данном этапе могут усиливаются внутренние аналитические инструменты для отслеживания поведения пользователей и метрик использования каждого модуля (на уровне бэкенда могут собираться события в базу или интегрироваться с Google Analytics/Amplitude – однако маркетинговую аналитику здесь не расписываем). Для обеспечения безопасности внедряются базовые анти-фрод механизмы: лимиты операций с токенами, логирование подозрительной активности, возможность блокировки пользователей админами. Эти меры приготовят платформу к выходу Beta на реальных пользователей.
•	Финальные улучшения и подготовка Beta: Завершаются последние штрихи перед Beta-релизом. Выполняется полная интеграционная проверка: тестируется сквозной сценарий использования всех модулей в комплексе (от регистрации и создания контента до проведения транзакций с токенами). Оставшиеся баги и несостыкованности между сервисами устраняются. Проводится нагрузочное тестирование основных компонентов, проверяется масштабируемость (эмуляция одновременного использования соцсети, квестов, кошелька и пр.). Инфраструктурно настраиваются резервные копирования баз данных, автоматическое масштабирование инстансов (Neon). Если какие-то функции ещё остаются в черновом варианте, они скрываются за feature flag до полной готовности, чтобы не мешать пользователям. Разработчики проводят аудит кода и безопасности: убеждаются, что все внешние вводы проверяются, конфиденциальные данные (ключи, токены) надежно хранятся, настроены CSP и другие заголовки безопасности на уровне Cloudflare. Благодаря проведённой оптимизации к этому моменту все временные решения из ранних фаз либо переписаны, либо изолированы флагами – архитектура не содержит критического технического долга.
•	Beta-релиз: Когда вышеописанные задачи выполнены, Go2Asia выходит в стадию Beta. Это означает, что платформа уже включает все основные модули (контент, соцсеть, партнёры, геймификация) и основные сервисы (реферальная система, баллы и токены, кошелек, контент-менеджмент). Пользовательский опыт близок к задуманному: единая PWA с офлайн-поддержкой, единый вход и профиль, взаимодействие с реальными ценностями (токены, NFT) внутри экосистемы. Beta-версия будет распространена на ограниченную аудиторию для финального тестирования в боевых условиях. В этот период команда оперативно устраняет выявленные баги и полирует UX/UI (на основе обратной связи): где нужно – улучшает понятность интерфейсов, обучающие подсказки, локализацию. После успешного Beta-тестирования, убедившись в стабильности техосновы и востребованности функционала, проект перейдёт к открытому запуску и дальнейшей оптимизации (фаза 4 и далее, которые включают масштабирование инфраструктуры, тонкую шлифовку производительности и расширенную аналитику). Однако уже на этапе Beta экосистема Go2Asia представляет собой полностью работоспособный продукт, демонстрирующий все запланированные технические возможности и UX-решения.

________________________________________




## Дополнение - Blockchain Gateway

**Назначение:**  
Инфраструктурный микросервис, отвечающий за взаимодействие экосистемы Go2Asia с блокчейном TON.  
Он обеспечивает безопасный обмен между внутренним контуром (Points и off-chain G2A) и внешним on-chain миром (токен G2A, NFT-награды, DAO-активности).  
Работает в связке с Token Service, но выполняет только функции мостового и кастодиального уровня.

---

### Основные функции

1. **Mint / Burn NFT**
   - Создание (mint) и сжигание (burn) NFT-трофеев, бейджей и ваучеров по запросу платформы.  
   - Управление метаданными NFT: тип, уровень, владелец, срок действия, история.  
   - Поддержка off-chain → on-chain синхронизации через webhook-триггеры Token Service.

2. **G2A Bridge**
   - Выполнение операций вывода/ввода токенов G2A между внутренним балансом (off-chain учёт) и внешним кошельком пользователя (on-chain TON).  
   - Процедура вывода:
     - пользователь создаёт заявку →  
     - Token Service блокирует сумму →  
     - Blockchain Gateway выполняет on-chain перевод и создаёт запись burn внутри off-chain реестра.  
   - Процедура ввода:
     - пользователь отправляет депозит на master-кошелёк →  
     - Gateway фиксирует транзакцию и создаёт запись mint внутри off-chain реестра.

3. **Safe Custody**
   - Хранение ключей мастер-кошельков (G2A, NFT, DAO) в защищённом хранилище.  
   - Генерация временных транзакций через подпись серверным ключом без раскрытия приватных данных.  
   - Возможность интеграции с HSM или Tonkeeper SDK для пользовательских кошельков.

4. **Event Relay**
   - Передача событий в другие микросервисы (Token Service, Connect Asia, Quest Asia, RF Merchant API).  
   - Поддержка очередей (например, через Redis Streams или Cloud Tasks) и механизма идемпотентности.

5. **Audit & Transparency**
   - Ведение журнала всех on-chain операций и соответствующих off-chain транзакций.  
   - Возможность публичного просмотра транзакций через TON explorer.  
   - Подготовка агрегированных отчётов для DAO/администрации.

---

### Архитектурное положение

- Развёртывается как отдельный микросервис (`services/blockchain-gateway`).  
- Использует API TON (через TonWeb или ton-core).  
- Обменивается событиями с:
  - **Token Service** — логика начислений и учёта балансов;  
  - **NFT Service** — хранение метаданных бейджей и трофеев;  
  - **Connect Asia** — отражение вознаграждений и статусов в профилях.  
- Работает асинхронно через очередь событий и REST-вебхуки.

---

### Безопасность

- Все операции требуют JWT-аутентификации от внутренних сервисов.  
- Лимиты на вывод, анти-фрод-триггеры и охлаждение транзакций (cooldown).  
- Off-chain данные — первичны; on-chain — подтверждающий слой.  
- Пользовательские ключи не хранятся на платформе.

---

### Этап внедрения

- **Фаза 0–1:** подготовка интерфейса взаимодействия (mock API, контракты, webhooks).  
- **Фаза 2:** реализация мостов G2A и NFT-minting в тестовой сети TON.  
- **Фаза 3:** включение DAO-транзакций, публичных отчётов и расширенной кастодиальности.



## Дополнение - Anti-Abuse & Risk Controls

**Назначение:**  
Система защиты экосистемы Go2Asia от злоупотреблений, мультиаккаунтов, фарминга вознаграждений и подозрительных транзакций.  
Anti-Abuse-механизмы действуют на уровне Points, NFT, G2A и реферальных программ, предотвращая искажение экономики и рейтингов.

---

### Основные принципы

1. **Лимиты начислений**
   - Суточный и недельный лимит Points/токенов для одного пользователя (настраиваемый по уровню: Spacer, VIP, PRO).  
   - Отдельные лимиты по типам действий (лайки, посты, квесты, ваучеры, рефералы).  
   - Превышение лимита переводит начисления в статус «pending» до ручной проверки.

2. **Поведенческий анализ**
   - Анализ временных и географических паттернов (аномально частые действия, множественные регистрации с одного устройства/IP).  
   - Проверка «цепочек взаимных лайков» и «каруселей рефералов».  
   - Отслеживание внезапного роста активности (более X действий в минуту/час) с автоматическим триггером «cooldown».

3. **Подтверждение партнёрских операций**
   - Все транзакции с премиум-ваучерами и покупками у партнёров подтверждаются бизнес-партнёром через RF-Merchant API.  
   - Только подтверждённые операции активируют начисление Points/G2A.  
   - При расхождении статусов (оплачено / не подтверждено) — ручная модерация.

4. **Модерация аномалий**
   - Все аномальные действия попадают в очередь **Moderation Queue**.  
   - Ручная проверка оператором (роль Moderator/Admin).  
   - Возможные решения: «approve», «reject», «reduce reward», «ban».  
   - Логирование в модуль **Audit & Transparency** (в Blockchain Gateway / Token Service).

5. **Санкции и репутация**
   - Для нарушителей: понижение статуса (VIP → Spacer), блокировка начислений, временные баны.  
   - Репутация пользователя (score) снижается при каждом нарушении.  
   - Для PRO-спейсеров — система предупреждений и рейтингов доверия.

---

### Архитектурное положение

- Микросервис `services/anti-abuse` или встроенный модуль в **Token Service**.  
- Использует:
  - **Redis / Cloud Tasks** — для отслеживания частоты действий;
  - **Connect Asia** — для валидации реферальных связей;
  - **RF Merchant API** — для подтверждения платежей;
  - **Moderation Dashboard** — веб-интерфейс для ручной проверки.

---

### Этап внедрения

- **Фаза 0–1:** базовые лимиты начислений, регистрация подозрительных действий в логах.  
- **Фаза 2:** анти-фрод правила, cooldown-таймеры, API подтверждения партнёров.  
- **Фаза 3:** поведенческий анализ, рейтинги репутации, дашборд модерации и уведомления.
