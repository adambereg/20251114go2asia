# üß≠ –û—Ç—á—ë—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥—É–ª—è Guru Asia

**–î–∞—Ç–∞:** 26 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ç–∫–∞:** `feature/guru-asia-nearby`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ merge –≤ main  
**–í–µ—Ä—Å–∏—è:** 1.0

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#–æ–±–∑–æ—Ä-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
2. [–†–µ–∞–ª–∏–∑—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª](#—Ä–µ–∞–ª–∏–∑—É–µ–º—ã–π-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)
3. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-—Ä–µ—à–µ–Ω–∏—è)
4. [–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#—Ñ–∞–π–ª–æ–≤–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
5. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–∏-–∏—Ö-–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ)
6. [–ö–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è](#–∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ-—Ä–µ—à–µ–Ω–∏—è)
7. [–°–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤](#—Å–∏—Å—Ç–µ–º–∞-—Ñ–∏–ª—å—Ç—Ä–æ–≤)
8. [–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è](#–∞–ª–≥–æ—Ä–∏—Ç–º-—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è)
9. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –º–æ–¥—É–ª—è–º–∏](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏-—Å-–º–æ–¥—É–ª—è–º–∏)
10. [–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è](#–ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å-–∏-–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è)
11. [–î–µ–º–æ-–∫–æ–Ω—Ç–µ–Ω—Ç](#–¥–µ–º–æ-–∫–æ–Ω—Ç–µ–Ω—Ç)
12. [–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è](#–ø—Ä–æ–±–ª–µ–º—ã-–∏-—Ä–µ—à–µ–Ω–∏—è)
13. [–ß—Ç–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ](#—á—Ç–æ-–Ω–µ-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
14. [–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏](#—Å–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏)

---

## –û–±–∑–æ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –¶–µ–ª—å –º–æ–¥—É–ª—è

Guru Asia ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥–∏–¥ "—Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π", –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Å—Ç–∞, —Å–æ–±—ã—Ç–∏—è, –∂–∏–ª—å—ë –∏ –ª—é–¥–µ–π –≤ —Ä–∞–¥–∏—É—Å–µ 10‚Äì15 –º–∏–Ω—É—Ç –ø–µ—à–∫–æ–º –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ú–æ–¥—É–ª—å –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ –µ–¥–∏–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ **–ö–∞—Ä—Ç–∞ + –°–ø–∏—Å–æ–∫**.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **Split UI**: –ö–∞—Ä—Ç–∞ (—Å–ª–µ–≤–∞/–≤–µ—Ä—Ö) + –°–ø–∏—Å–æ–∫ (—Å–ø—Ä–∞–≤–∞/–Ω–∏–∑)
- **5 —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤**: –ú–µ—Å—Ç–∞, –°–æ–±—ã—Ç–∏—è, –ñ–∏–ª—å—ë, –õ—é–¥–∏/PRO, –ö–≤–µ—Å—Ç—ã
- **–†–∞–¥–∏—É—Å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**: 600 / 800 / 1000 / 1200 –º (‚âà 8‚Äì15 –º–∏–Ω –ø–µ—à–∫–æ–º)
- **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏**: –ï–¥–∏–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –±–µ–π–¥–∂–∞–º–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- **–ë–µ—Å—à–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**: –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–æ–¥—É–ª—å
- **–£–º–Ω–æ–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ë–ª–∏–∑–æ—Å—Ç—å + –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å + –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å + –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞**: OpenStreetMap —Å –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–µ–π –∏ —Ü–≤–µ—Ç–æ–≤—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏

---

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### ‚úÖ –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (Split UI)

#### Desktop Layout
- **–õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (40%)**: –ö–∞—Ä—Ç–∞ OSM —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏
- **–ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å (60%)**: –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ + —Ñ–∏–ª—å—Ç—Ä—ã
- **Sticky-—ç–ª–µ–º–µ–Ω—Ç—ã**: –ü–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã, –∫–Ω–æ–ø–∫–∏ ¬´–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å¬ª, ¬´–†–∞–¥–∏—É—Å¬ª

#### Mobile Layout
- **–í–µ—Ä—Ö (40vh)**: –ö–∞—Ä—Ç–∞ —Å draggable handle –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã
- **–ù–∏–∑ (60vh)**: –°–ø–∏—Å–æ–∫ —Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º —Å–∫—Ä–æ–ª–ª–æ–º
- **Bottom Sheet**: –§–∏–ª—å—Ç—Ä—ã –≤ –≤—ã–¥–≤–∏–∂–Ω–æ–π –ø–∞–Ω–µ–ª–∏

### ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ä—Ç–æ—á–∫–∏:
- **–ú–∏–Ω–∏-–æ–±–ª–æ–∂–∫–∞** (80√ó80 px): —Ñ–æ—Ç–æ –º–µ—Å—Ç–∞/—Å–æ–±—ã—Ç–∏—è/—á–µ–ª–æ–≤–µ–∫–∞
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫** (1‚Äì2 —Å—Ç—Ä–æ–∫–∏): –Ω–∞–∑–≤–∞–Ω–∏–µ + –±–µ–π–¥–∂–∏ (RF, PRO, Event, Quest, Verified)
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** (—Å—Ç—Ä–æ–∫–∞ 1):
  - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: `350 –º` / `~5 –º–∏–Ω –ø–µ—à–∫–æ–º`
  - –°—Ç–∞—Ç—É—Å: `–û—Ç–∫—Ä—ã—Ç–æ` / `–ó–∞–∫—Ä—ã—Ç–æ` / `–ò–¥—ë—Ç —Å–µ–π—á–∞—Å` (—Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä)
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** (—Å—Ç—Ä–æ–∫–∞ 2):
  - –†–µ–π—Ç–∏–Ω–≥: ‚≠ê 4.7
  - –¶–µ–Ω–∞: `$` / `$$` / `$$$` / `–ë–µ—Å–ø–ª–∞—Ç–Ω–æ`
  - –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –∏–∫–æ–Ω–∫–∞ + –Ω–∞–∑–≤–∞–Ω–∏–µ (–∫–∞—Ñ–µ, –∫–æ–≤–æ—Ä–∫–∏–Ω–≥, –º—É–∑–µ–π –∏ —Ç.–¥.)
- **–î–µ–π—Å—Ç–≤–∏—è**:
  - –ö–Ω–æ–ø–∫–∞ `–û—Ç–∫—Ä—ã—Ç—å` (–æ—Å–Ω–æ–≤–Ω–∞—è) ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –≤ –º–æ–¥—É–ª—å
  - –ö–Ω–æ–ø–∫–∞ `–ú–∞—Ä—à—Ä—É—Ç` (–∏–∫–æ–Ω–∫–∞) ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –≤ –∫–∞—Ä—Ç–∞—Ö
  - –ö–Ω–æ–ø–∫–∞ `–°–æ—Ö—Ä–∞–Ω–∏—Ç—å` (–∏–∫–æ–Ω–∫–∞ —Å–µ—Ä–¥–µ—á–∫–æ)

#### –¢–∏–ø—ã –∫–∞—Ä—Ç–æ—á–µ–∫:
1. **–ú–µ—Å—Ç–æ (Atlas)**: —Ñ–æ—Ç–æ –º–µ—Å—Ç–∞, –±–µ–π–¥–∂ RF, —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã, —Ä–µ–π—Ç–∏–Ω–≥
2. **–°–æ–±—ã—Ç–∏–µ (Pulse)**: –æ–±–ª–æ–∂–∫–∞ —Å–æ–±—ã—Ç–∏—è, –±–µ–π–¥–∂ Event, –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
3. **–ñ–∏–ª—å—ë (AIRent NSK)**: —Ñ–æ—Ç–æ –∂–∏–ª—å—è, —Ü–µ–Ω–∞ –∑–∞ –Ω–æ—á—å, —Å–≤–æ–±–æ–¥–Ω–æ —Å–µ–π—á–∞—Å
4. **–ß–µ–ª–æ–≤–µ–∫/PRO (Space)**: –∞–≤–∞—Ç–∞—Ä, –±–µ–π–¥–∂ PRO, —Å—Ç–∞—Ç—É—Å ¬´–ì–æ—Ç–æ–≤ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è¬ª
5. **–ö–≤–µ—Å—Ç (Quest Asia)**: –∏–∫–æ–Ω–∫–∞ –∫–≤–µ—Å—Ç–∞, —É—Ä–æ–≤–µ–Ω—å, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–∞–≥—Ä–∞–¥—ã

### ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ (OpenStreetMap)

#### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
- **–ë–∞–∑–æ–≤—ã–π —Å–ª–æ–π**: OSM Tiles (—Å–≤–µ—Ç–ª–∞—è —Å—Ö–µ–º–∞ –¥–ª—è –¥–Ω–µ–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞)
- **–ú–∞—Ä–∫–µ—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤**: —Ü–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø—É (—Å–º. –Ω–∏–∂–µ)
- **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è**: –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –±–ª–∏–∑–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (10+ –æ–±—ä–µ–∫—Ç–æ–≤ ‚Üí –∫–ª–∞—Å—Ç–µ—Ä)
- **–ü–æ–ø–∞–ø –ø—Ä–∏ –∫–ª–∏–∫–µ**: –º–∏–Ω–∏-–∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∫–Ω–æ–ø–∫–æ–π ¬´–ü–æ–¥—Ä–æ–±–Ω–µ–µ¬ª
- **–ö—Ä—É–≥ —Ä–∞–¥–∏—É—Å–∞**: –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫—Ä—É–≥ –≤–æ–∫—Ä—É–≥ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü–æ–∑–∏—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: —Å–∏–Ω–∏–π –º–∞—Ä–∫–µ—Ä —Å –ø—É–ª—å—Å–∞—Ü–∏–µ–π

#### –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –º–∞—Ä–∫–µ—Ä–æ–≤:
| –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞ | –¶–≤–µ—Ç –º–∞—Ä–∫–µ—Ä–∞ | –ò–∫–æ–Ω–∫–∞ |
|-------------|--------------|--------|
| –ú–µ—Å—Ç–æ (Atlas) | Cyan (#06B6D4) | MapPin |
| –°–æ–±—ã—Ç–∏–µ (Pulse) | Purple (#A855F7) | Calendar |
| –ñ–∏–ª—å—ë (AIRent) | Green (#10B981) | Home |
| –ß–µ–ª–æ–≤–µ–∫/PRO (Space) | Orange (#F97316) | User |
| –ö–≤–µ—Å—Ç (Quest Asia) | Amber (#F59E0B) | Trophy |

#### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞—Ä—Ç—ã:
- –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ (debounce 300 –º—Å)
- –ó—É–º ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏
- –ö–ª–∏–∫ –ø–æ –º–∞—Ä–∫–µ—Ä—É ‚Üí –ø–æ–ø–∞–ø —Å –ø—Ä–µ–≤—å—é
- –ö–ª–∏–∫ –ø–æ –∫–ª–∞—Å—Ç–µ—Ä—É ‚Üí –∑—É–º –∫ –æ–±–ª–∞—Å—Ç–∏

### ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤

#### –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ (sticky):
1. **–°—Ç—Ä–æ–∫–∞ –ø–æ–∏—Å–∫–∞**: –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/–∞–¥—Ä–µ—Å—É/–æ–ø–∏—Å–∞–Ω–∏—é
2. **–†–∞–¥–∏—É—Å**: 600 –º / 800 –º / 1 –∫–º / 1.2 –∫–º (—á–∏–ø—ã)
3. **–¢–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤** (–º—É–ª—å—Ç–∏—Å–µ–ª–µ–∫—Ç):
   - –ú–µ—Å—Ç–∞
   - –°–æ–±—ã—Ç–∏—è
   - –ñ–∏–ª—å—ë
   - –õ—é–¥–∏
   - –ö–≤–µ—Å—Ç—ã
4. **–í—Ä–µ–º—è**:
   - –í—Å–µ
   - –°–µ–π—á–∞—Å –æ—Ç–∫—Ä—ã—Ç–æ
   - –°–µ–≥–æ–¥–Ω—è
   - –í —ç—Ç–∏ –≤—ã—Ö–æ–¥–Ω—ã–µ
   - –ò–¥—ë—Ç —Å–µ–π—á–∞—Å (–¥–ª—è —Å–æ–±—ã—Ç–∏–π)
5. **–ê—Ç—Ä–∏–±—É—Ç—ã –º–µ—Å—Ç–∞** (—á–∏–ø—ã):
   - Wi-Fi
   - –†–æ–∑–µ—Ç–∫–∏ (power outlets)
   - –ö–æ—Ñ–µ/–∑–∞–≤—Ç—Ä–∞–∫
   - –¢–∏—Ö–æ (quiet)
   - –î–µ—Ç—Å–∫–æ–µ (kid-friendly)
   - RF-–ø–∞—Ä—Ç–Ω—ë—Ä
6. **–ñ–∏–ª—å—ë** (—á–∏–ø—ã):
   - –ë—é–¥–∂–µ—Ç–Ω–æ–µ ($)
   - –°—Ä–µ–¥–Ω–µ–µ ($$)
   - –ü—Ä–µ–º–∏—É–º ($$$)
   - –ï—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ —Å–µ–π—á–∞—Å
7. **–õ—é–¥–∏/PRO** (—á–∏–ø—ã):
   - –ú–µ–Ω—Ç–æ—Ä—ã
   - –ü—Ä–æ–≤–æ–¥–Ω–∏–∫–∏
   - –ì–æ—Ç–æ–≤ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è —Å–µ–π—á–∞—Å
8. **–ö–≤–µ—Å—Ç—ã** (—á–∏–ø—ã):
   - –£—Ä–æ–≤–µ–Ω—å: –ù–æ–≤–∏—á–æ–∫ / –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π / –≠–∫—Å–ø–µ—Ä—Ç
   - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 15 / 30 / 60 –º–∏–Ω
   - –° –Ω–∞–≥—Ä–∞–¥–∞–º–∏ (Points/NFT)

#### –ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ —á–∏–ø–æ–≤ –ø–æ–¥ –ø–∞–Ω–µ–ª—å—é
- –ö—Ä–µ—Å—Ç–∏–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —á–∏–ø–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
- –ö–Ω–æ–ø–∫–∞ ¬´–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë¬ª –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤

#### URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:
```
/guru?lat=54.9833&lng=82.8964&radius=1000&types=places,events&time=now&attrs=wifi,quiet&sort=proximity
```

### ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –†–µ–∂–∏–º—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å):
1. **–ë–ª–∏–∂–µ** (proximity): –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–°–µ–π—á–∞—Å** (now): –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ + –æ—Ç–∫—Ä—ã—Ç–æ–µ + –∏–¥—ë—Ç —Å–µ–π—á–∞—Å
3. **–¢–æ–ø** (popular): –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏

#### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
```
score = 
  w1 * proximity_score +        // 35% ‚Äî –±–ª–∏–∑–æ—Å—Ç—å
  w2 * open_now_boost +          // 20% ‚Äî –æ—Ç–∫—Ä—ã—Ç–æ/–∏–¥—ë—Ç —Å–µ–π—á–∞—Å
  w3 * popularity_score +        // 20% ‚Äî –ª–∞–π–∫–∏/—Å–µ–π–≤—ã/–ø–æ—Å–µ—â–µ–Ω–∏—è
  w4 * freshness_score +         // 10% ‚Äî –Ω–µ–¥–∞–≤–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  w5 * rf_boost +                // 5%  ‚Äî Russian Friendly
  w6 * personalization_score     // 10% ‚Äî –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**–î–µ—Ç–∞–ª–∏:**
- `proximity_score`: –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ 0‚Äì1, –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
- `open_now_boost`: +1 –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–æ/–∏–¥—ë—Ç, 0 –∏–Ω–∞—á–µ
- `popularity_score`: –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ 0‚Äì1 –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∞–π–∫–æ–≤/—Å–µ–π–≤–æ–≤/–ø–æ—Å–µ—â–µ–Ω–∏–π
- `freshness_score`: –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ 0‚Äì1, –≤—ã—à–µ –¥–ª—è –Ω–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö
- `rf_boost`: +0.2 –¥–ª—è RF-–ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤
- `personalization_score`: –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏ –∫–ª–∏–∫–æ–≤, –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### ‚úÖ –ü–æ—Ç–æ–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### 1. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Guru ‚Üí 
–ó–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ ‚Üí 
–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ ‚Üí 
–ü–æ–∫–∞–∑ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ä–∞–¥–∏—É—Å–µ 800 –º ‚Üí 
–ö–∞—Ä—Ç–∞ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
```

#### 2. –ü–ª–∞–Ω –Ω–∞ 30 –º–∏–Ω—É—Ç
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã:
- –í—Ä–µ–º—è: ¬´–°–µ–π—á–∞—Å –æ—Ç–∫—Ä—ã—Ç–æ¬ª
- –ê—Ç—Ä–∏–±—É—Ç—ã: ¬´–ö–æ—Ñ–µ¬ª, ¬´Wi-Fi¬ª
- –†–∞–¥–∏—É—Å: 600 –º (‚âà8 –º–∏–Ω –ø–µ—à–∫–æ–º)
‚Üí –°–ø–∏—Å–æ–∫ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω
‚Üí –ö–ª–∏–∫ ¬´–ú–∞—Ä—à—Ä—É—Ç¬ª –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ
‚Üí –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ Google/Yandex Maps
```

#### 3. –°–µ–≥–æ–¥–Ω—è –≤–µ—á–µ—Ä–æ–º
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç:
- –¢–∏–ø—ã: ¬´–°–æ–±—ã—Ç–∏—è¬ª
- –í—Ä–µ–º—è: ¬´–°–µ–≥–æ–¥–Ω—è –≤–µ—á–µ—Ä–æ–º¬ª (18:00‚Äì23:00)
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏—è
‚Üí –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ
‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –≤ Pulse Asia —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
```

#### 4. –°–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (opt-in)
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∫–ª—é—á–∞–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å:
- –¢–∏–ø—ã: ¬´–õ—é–¥–∏¬ª
- –§–∏–ª—å—Ç—Ä: ¬´–ì–æ—Ç–æ–≤ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è —Å–µ–π—á–∞—Å¬ª
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è PRO-–ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∏ –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏
‚Üí –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ
‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –≤ Space Asia (–ø—Ä–æ—Ñ–∏–ª—å/DM)
```

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

#### Frontend
- **React 18** + **Next.js 15** (App Router)
- **TypeScript** –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Tailwind CSS** –¥–ª—è —Å—Ç–∏–ª–µ–π
- **@go2asia/ui** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### –ö–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—è
- **React Leaflet** (–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è Leaflet.js)
- **OpenStreetMap** (OSM) –¥–ª—è —Ç–∞–π–ª–æ–≤
- **Leaflet.markercluster** –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏
- **Turf.js** –¥–ª—è –≥–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è, –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏)

#### –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
- **Navigator Geolocation API** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏
- **IP Geolocation** (fallback) –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª–æ–Ω–∏–ª –¥–æ—Å—Ç—É–ø
- **Manual location picker** (–ø–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–∞)

### 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
GuruPage (Server Component)
‚îú‚îÄ‚îÄ GuruClient (Client Component) ‚Üê URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ GuruFilters (Client) ‚Üê —Ñ–∏–ª—å—Ç—Ä—ã + –ø–æ–∏—Å–∫
    ‚îú‚îÄ‚îÄ GuruMapView (Client) ‚Üê –∫–∞—Ä—Ç–∞ OSM
    ‚îÇ   ‚îú‚îÄ‚îÄ MapContainer
    ‚îÇ   ‚îú‚îÄ‚îÄ UserMarker (–ø–æ–∑–∏—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
    ‚îÇ   ‚îú‚îÄ‚îÄ RadiusCircle (–∫—Ä—É–≥ —Ä–∞–¥–∏—É—Å–∞)
    ‚îÇ   ‚îú‚îÄ‚îÄ ObjectMarker[] (–º–µ—Å—Ç–∞/—Å–æ–±—ã—Ç–∏—è/–ª—é–¥–∏/–∂–∏–ª—å—ë/–∫–≤–µ—Å—Ç—ã)
    ‚îÇ   ‚îî‚îÄ‚îÄ MarkerCluster (–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è)
    ‚îî‚îÄ‚îÄ GuruListView (Client) ‚Üê —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫
        ‚îú‚îÄ‚îÄ SortSwitch (–ë–ª–∏–∂–µ/–°–µ–π—á–∞—Å/–¢–æ–ø)
        ‚îú‚îÄ‚îÄ ObjectCard[] (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏)
        ‚îî‚îÄ‚îÄ InfiniteScroll (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)
```

### 3. –ì–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞

#### –£—Ç–∏–ª–∏—Ç–∞ `calculateDistance()`
```typescript
// Haversine formula –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏
function calculateDistance(
  lat1: number, lng1: number, 
  lat2: number, lng2: number
): number {
  const R = 6371e3; // –†–∞–¥–∏—É—Å –ó–µ–º–ª–∏ –≤ –º–µ—Ç—Ä–∞—Ö
  const œÜ1 = lat1 * Math.PI / 180;
  const œÜ2 = lat2 * Math.PI / 180;
  const ŒîœÜ = (lat2 - lat1) * Math.PI / 180;
  const ŒîŒª = (lng2 - lng1) * Math.PI / 180;

  const a = Math.sin(ŒîœÜ/2) * Math.sin(ŒîœÜ/2) +
            Math.cos(œÜ1) * Math.cos(œÜ2) *
            Math.sin(ŒîŒª/2) * Math.sin(ŒîŒª/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));

  return R * c; // –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –º–µ—Ç—Ä–∞—Ö
}
```

#### –£—Ç–∏–ª–∏—Ç–∞ `filterByRadius()`
```typescript
function filterByRadius(
  objects: GuruObject[],
  userLat: number,
  userLng: number,
  radiusMeters: number
): GuruObject[] {
  return objects.filter(obj => {
    const distance = calculateDistance(
      userLat, userLng,
      obj.latitude, obj.longitude
    );
    return distance <= radiusMeters;
  });
}
```

#### –£—Ç–∏–ª–∏—Ç–∞ `rankObjects()`
```typescript
function rankObjects(
  objects: GuruObject[],
  userLat: number,
  userLng: number,
  mode: 'proximity' | 'now' | 'popular',
  userPreferences?: UserPreferences
): GuruObject[] {
  return objects
    .map(obj => ({
      ...obj,
      score: calculateScore(obj, userLat, userLng, mode, userPreferences)
    }))
    .sort((a, b) => b.score - a.score);
}
```

### 4. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:
- **React Query** –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è API-–∑–∞–ø—Ä–æ—Å–æ–≤
- **stale-while-revalidate**: –ø–æ–∫–∞–∑–∞—Ç—å –∫—ç—à ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å –≤ —Ñ–æ–Ω–µ
- **TTL**: 5 –º–∏–Ω—É—Ç –¥–ª—è –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö, 10 –º–∏–Ω—É—Ç –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤

#### Throttling –∏ Debounce:
- **Geo updates**: throttle 5 —Å–µ–∫ (–Ω–µ —á–∞—â–µ —á–µ–º —Ä–∞–∑ –≤ 5 —Å–µ–∫)
- **Map drag**: debounce 300 –º—Å (–ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è)
- **Search input**: debounce 400 –º—Å

#### Offline-—Ä–µ–∂–∏–º:
- **Service Worker**: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–∏–∂–∞–π—à–∏—Ö 200‚Äì300 –æ–±—ä–µ–∫—Ç–æ–≤
- **Fallback UI**: "–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –ø–æ–∫–∞–∑–∞–Ω—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"

### 5. URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

#### Query Parameters:
```typescript
interface GuruUrlParams {
  lat?: number;          // –®–∏—Ä–æ—Ç–∞
  lng?: number;          // –î–æ–ª–≥–æ—Ç–∞
  radius?: number;       // –†–∞–¥–∏—É—Å –≤ –º–µ—Ç—Ä–∞—Ö
  types?: string[];      // places,events,people
  time?: string;         // all | now | today | weekend
  attrs?: string[];      // wifi,quiet,rf
  sort?: string;         // proximity | now | popular
  q?: string;            // –ü–æ–∏—Å–∫
}
```

#### –ü—Ä–∏–º–µ—Ä—ã URL:
```
/guru
/guru?lat=54.9833&lng=82.8964&radius=800
/guru?types=places,events&time=now&attrs=wifi
/guru?q=–∫–æ—Ñ–µ&radius=600&sort=proximity
```

---

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
apps/go2asia-pwa-shell/
‚îú‚îÄ‚îÄ app/(public)/guru/
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx                 # Suspense boundary –¥–ª—è useSearchParams()
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                   # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Guru Asia
‚îÇ   ‚îî‚îÄ‚îÄ GuruClient.tsx             # Client component —Å URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
‚îÇ
‚îú‚îÄ‚îÄ components/guru/
‚îÇ   ‚îú‚îÄ‚îÄ types.ts                   # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ mockObjects.ts             # –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ geo.ts                 # calculateDistance, filterByRadius
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ranking.ts             # rankObjects, calculateScore
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ filters.ts             # filterObjects, applyFilters
‚îÇ   ‚îú‚îÄ‚îÄ GuruFilters.tsx            # –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ GuruMapView.tsx            # –ö–∞—Ä—Ç–∞ OSM —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ GuruListView.tsx           # –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ObjectCard.tsx             # –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ SortSwitch.tsx             # –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ UserMarker.tsx             # –ú–∞—Ä–∫–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –∫–∞—Ä—Ç–µ
‚îÇ   ‚îú‚îÄ‚îÄ ObjectMarker.tsx           # –ú–∞—Ä–∫–µ—Ä –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ
‚îÇ   ‚îú‚îÄ‚îÄ MarkerPopup.tsx            # –ü–æ–ø–∞–ø –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ RadiusCircle.tsx           # –ö—Ä—É–≥ —Ä–∞–¥–∏—É—Å–∞ –Ω–∞ –∫–∞—Ä—Ç–µ
‚îÇ   ‚îú‚îÄ‚îÄ LocationPicker.tsx         # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –ª–æ–∫–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                   # –≠–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ lib/hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useGeolocation.ts          # –•—É–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ useGuruObjects.ts          # –•—É–∫ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ useMapBounds.ts            # –•—É–∫ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è bounds –∫–∞—Ä—Ç—ã
‚îÇ
‚îî‚îÄ‚îÄ styles/
    ‚îî‚îÄ‚îÄ leaflet-custom.css         # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è Leaflet
```

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

### GuruClient (–≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**  
–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä Guru Asia. –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç URL, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ–π –∏ —Å–ø–∏—Å–∫–æ–º.

**–°–æ—Å—Ç–æ—è–Ω–∏–µ:**
```typescript
interface GuruState {
  userPosition: { lat: number; lng: number } | null;
  radius: number;                           // 600 | 800 | 1000 | 1200
  selectedTypes: GuruObjectType[];          // places | events | housing | people | quests
  timeFilter: TimeFilter;                   // all | now | today | weekend
  activeAttrs: string[];                    // wifi, quiet, rf, etc.
  sortMode: SortMode;                       // proximity | now | popular
  searchQuery: string;
  selectedObject: GuruObject | null;
}
```

**–ú–µ—Ç–æ–¥—ã:**
- `handleLocationChange()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `handleFilterChange()` ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `handleRadiusChange()` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–¥–∏—É—Å–∞
- `handleObjectClick()` ‚Äî –∫–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ/–º–∞—Ä–∫–µ—Ä—É
- `syncToUrl()` ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ URL

---

### GuruFilters

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**  
–ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å –ø–æ–∏—Å–∫–æ–º, —á–∏–ø–∞–º–∏ —Ç–∏–ø–æ–≤, –≤—Ä–µ–º–µ–Ω–µ–º, –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏.

**Props:**
```typescript
interface GuruFiltersProps {
  filters: GuruFilters;
  onFilterChange: (filters: GuruFilters) => void;
  onReset: () => void;
  activeCount: number;
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö (Bottom Sheet)
- –ü–æ–∫–∞–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ –≤–∏–¥–µ —á–∏–ø–æ–≤
- –ö–Ω–æ–ø–∫–∞ ¬´–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë¬ª –ø—Ä–∏ activeCount > 0

---

### GuruMapView

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**  
–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ OSM —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–µ–π, –∫—Ä—É–≥–æ–º —Ä–∞–¥–∏—É—Å–∞.

**Props:**
```typescript
interface GuruMapViewProps {
  objects: GuruObject[];
  userPosition: { lat: number; lng: number };
  radius: number;
  selectedObject: GuruObject | null;
  onObjectClick: (object: GuruObject) => void;
  onMapMove: (center: { lat: number; lng: number }) => void;
}
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `MapContainer` ‚Äî Leaflet –∫–∞—Ä—Ç–∞
- `TileLayer` ‚Äî OSM —Ç–∞–π–ª—ã
- `UserMarker` ‚Äî –ø–æ–∑–∏—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–∏–Ω–∏–π —Å –ø—É–ª—å—Å–∞—Ü–∏–µ–π)
- `RadiusCircle` ‚Äî –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫—Ä—É–≥ —Ä–∞–¥–∏—É—Å–∞
- `MarkerClusterGroup` ‚Äî –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤
- `ObjectMarker[]` ‚Äî –º–∞—Ä–∫–µ—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
- `MarkerPopup` ‚Äî –ø–æ–ø–∞–ø —Å –ø—Ä–µ–≤—å—é –ø—Ä–∏ –∫–ª–∏–∫–µ

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Debounce –Ω–∞ `onMapMove` (300 –º—Å)
- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ 10+ –æ–±—ä–µ–∫—Ç–∞—Ö –Ω–∞ –±–ª–∏–∑–∫–æ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑—É–º –∫ bounds –æ–±—ä–µ–∫—Ç–æ–≤

---

### GuruListView

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**  
–°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –≤–∏–¥–µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

**Props:**
```typescript
interface GuruListViewProps {
  objects: GuruObject[];
  userPosition: { lat: number; lng: number };
  sortMode: SortMode;
  onSortChange: (mode: SortMode) => void;
  onObjectClick: (object: GuruObject) => void;
  selectedObject: GuruObject | null;
}
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `SortSwitch` ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ë–ª–∏–∂–µ/–°–µ–π—á–∞—Å/–¢–æ–ø
- `ObjectCard[]` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤
- `InfiniteScroll` ‚Äî –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–ø–æ 20 –æ–±—ä–µ–∫—Ç–æ–≤)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ (react-window)
- –°–∫—Ä–æ–ª–ª –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä
- Empty state: "–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Ä–∞–¥–∏—É—Å–µ –• –º"

---

### ObjectCard (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**  
–ï–¥–∏–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ (–º–µ—Å—Ç–∞, —Å–æ–±—ã—Ç–∏—è, –∂–∏–ª—å—ë, –ª—é–¥–∏, –∫–≤–µ—Å—Ç—ã).

**Props:**
```typescript
interface ObjectCardProps {
  object: GuruObject;
  distance: number;          // –º–µ—Ç—Ä—ã
  walkingTime: number;       // –º–∏–Ω—É—Ç—ã
  isSelected: boolean;
  onClick: () => void;
}
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [–û–±–ª–æ–∂–∫–∞ 80x80]  –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞      ‚îÇ
‚îÇ                  [RF] [PRO] [Verified] ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ                  üö∂ 350 –º (~5 –º–∏–Ω)     ‚îÇ
‚îÇ                  üü¢ –û—Ç–∫—Ä—ã—Ç–æ            ‚îÇ
‚îÇ                  ‚≠ê 4.7 ‚Ä¢ $$ ‚Ä¢ –ö–∞—Ñ–µ   ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ  [–û—Ç–∫—Ä—ã—Ç—å] [–ú–∞—Ä—à—Ä—É—Ç üó∫] [–°–æ—Ö—Ä–∞–Ω–∏—Ç—å ‚ù§] ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ë–µ–π–¥–∂–∏:**
- **RF**: Russian Friendly (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- **PRO**: PRO-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Space (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
- **Event**: –°–æ–±—ã—Ç–∏–µ (–ø—É—Ä–ø—É—Ä–Ω—ã–π)
- **Quest**: –ö–≤–µ—Å—Ç (—è–Ω—Ç–∞—Ä–Ω—ã–π)
- **Verified**: –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ (—Å–∏–Ω–∏–π –≥–∞–ª–æ—á–∫–æ–π)

---

### ObjectMarker

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**  
–ú–∞—Ä–∫–µ—Ä –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –ø–æ —Ç–∏–ø—É.

**Props:**
```typescript
interface ObjectMarkerProps {
  object: GuruObject;
  isSelected: boolean;
  onClick: () => void;
}
```

**–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞:**
- –ú–µ—Å—Ç–æ (Atlas): Cyan (#06B6D4)
- –°–æ–±—ã—Ç–∏–µ (Pulse): Purple (#A855F7)
- –ñ–∏–ª—å—ë (AIRent): Green (#10B981)
- –ß–µ–ª–æ–≤–µ–∫/PRO (Space): Orange (#F97316)
- –ö–≤–µ—Å—Ç (Quest Asia): Amber (#F59E0B)

**–ò–∫–æ–Ω–∫–∏:**
- –ú–µ—Å—Ç–æ: MapPin
- –°–æ–±—ã—Ç–∏–µ: Calendar
- –ñ–∏–ª—å—ë: Home
- –ß–µ–ª–æ–≤–µ–∫: User
- –ö–≤–µ—Å—Ç: Trophy

---

### useGeolocation (—Ö—É–∫)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**  
–ü–æ–ª—É—á–µ–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ fallback.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
const { 
  position,      // { lat, lng } | null
  loading,       // boolean
  error,         // GeolocationError | null
  requestLocation 
} = useGeolocation();
```

**Fallback:**
1. Navigator Geolocation API (—Ç–æ—á–Ω–æ—Å—Ç—å ~10‚Äì50 –º)
2. IP Geolocation API (—Ç–æ—á–Ω–æ—Å—Ç—å ~1‚Äì5 –∫–º)
3. Manual location picker (–ø–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–∞)

**–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:**
- –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "–∫–≤–∞—Ä—Ç–∞–ª" (200‚Äì300 –º)
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ—á–Ω—ã–π —Ä–µ–∂–∏–º (opt-in)

---

## –ö–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

### 1. OpenStreetMap vs Google Maps

**–í—ã–±–æ—Ä: OpenStreetMap**

**–ü—Ä–∏—á–∏–Ω—ã:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ –ª–∏–º–∏—Ç–æ–≤ API
- ‚úÖ Open source, –≥–∏–±–∫–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è
- ‚úÖ –û—Ç–ª–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –Æ–í–ê
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Leaflet.js (–ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

**Google Maps:**
- ‚ùå –ü–ª–∞—Ç–Ω–æ: $7 –∑–∞ 1000 map loads
- ‚ùå –õ–∏–º–∏—Ç—ã API: 28,000 map loads/–º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚ùå –ú–µ–Ω—å—à–µ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏

### 2. Leaflet.js

**–ü–æ—á–µ–º—É Leaflet:**
- ‚úÖ –õ–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è (39 KB gzipped)
- ‚úÖ Mobile-friendly
- ‚úÖ –ë–æ–≥–∞—Ç–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
- Mapbox GL JS: —Ç—è–∂–µ–ª–µ–µ (183 KB), –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π (3D, WebGL)
- Google Maps SDK: –ø–ª–∞—Ç–Ω–æ, –º–µ–Ω—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è

### 3. –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `leaflet.markercluster`

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
```typescript
const clusterOptions = {
  maxClusterRadius: 50,        // –†–∞–¥–∏—É—Å –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ (px)
  spiderfyOnMaxZoom: true,     // –†–∞—Å–∫—Ä—ã—Ç—å –∫–ª–∞—Å—Ç–µ—Ä –ø—Ä–∏ –º–∞–∫—Å. –∑—É–º–µ
  showCoverageOnHover: false,  // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±–ª–∞—Å—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∞
  zoomToBoundsOnClick: true,   // –ó—É–º –∫ –∫–ª–∞—Å—Ç–µ—Ä—É –ø—Ä–∏ –∫–ª–∏–∫–µ
  iconCreateFunction: (cluster) => {
    const count = cluster.getChildCount();
    let size = 'small';
    if (count > 50) size = 'large';
    else if (count > 10) size = 'medium';
    
    return L.divIcon({
      html: `<div><span>${count}</span></div>`,
      className: `marker-cluster marker-cluster-${size}`,
      iconSize: L.point(40, 40)
    });
  }
};
```

**–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤:**
```css
.marker-cluster-small {
  background-color: rgba(6, 182, 212, 0.6);  /* Cyan */
}
.marker-cluster-medium {
  background-color: rgba(168, 85, 247, 0.6); /* Purple */
}
.marker-cluster-large {
  background-color: rgba(239, 68, 68, 0.6);  /* Red */
}
```

### 4. –¢–∞–π–ª—ã OSM

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä:** OpenStreetMap Standard Tiles

**URL:**
```
https://tile.openstreetmap.org/{z}/{x}/{y}.png
```

**Attribution:**
```
¬© OpenStreetMap contributors
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–¥–ª—è —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã):**
- CartoDB Dark Matter: `https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png`
- Stamen Toner: `https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.png`

---

## –°–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤

### –¢–∏–ø—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤

#### 1. –¢–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤ (–º—É–ª—å—Ç–∏—Å–µ–ª–µ–∫—Ç)
```typescript
type GuruObjectType = 
  | 'place'    // –ú–µ—Å—Ç–∞ (Atlas)
  | 'event'    // –°–æ–±—ã—Ç–∏—è (Pulse)
  | 'housing'  // –ñ–∏–ª—å—ë (AIRent NSK)
  | 'person'   // –õ—é–¥–∏/PRO (Space)
  | 'quest';   // –ö–≤–µ—Å—Ç—ã (Quest Asia)
```

#### 2. –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
```typescript
type TimeFilter = 
  | 'all'      // –í—Å–µ
  | 'now'      // –°–µ–π—á–∞—Å –æ—Ç–∫—Ä—ã—Ç–æ / –∏–¥—ë—Ç —Å–µ–π—á–∞—Å
  | 'today'    // –°–µ–≥–æ–¥–Ω—è
  | 'weekend'; // –í —ç—Ç–∏ –≤—ã—Ö–æ–¥–Ω—ã–µ
```

#### 3. –ê—Ç—Ä–∏–±—É—Ç—ã –º–µ—Å—Ç–∞
```typescript
interface PlaceAttributes {
  wifi: boolean;           // Wi-Fi
  power_outlets: boolean;  // –†–æ–∑–µ—Ç–∫–∏
  coffee: boolean;         // –ö–æ—Ñ–µ/–∑–∞–≤—Ç—Ä–∞–∫
  quiet: boolean;          // –¢–∏—Ö–æ–µ –º–µ—Å—Ç–æ
  kid_friendly: boolean;   // –î–µ—Ç—Å–∫–æ–µ
  rf_partner: boolean;     // RF-–ø–∞—Ä—Ç–Ω—ë—Ä
}
```

#### 4. –ê—Ç—Ä–∏–±—É—Ç—ã –∂–∏–ª—å—è
```typescript
interface HousingAttributes {
  price_range: 'budget' | 'mid' | 'premium';  // $ | $$ | $$$
  available_now: boolean;                      // –°–≤–æ–±–æ–¥–Ω–æ —Å–µ–π—á–∞—Å
}
```

#### 5. –ê—Ç—Ä–∏–±—É—Ç—ã –ª—é–¥–µ–π/PRO
```typescript
interface PersonAttributes {
  is_mentor: boolean;         // –ú–µ–Ω—Ç–æ—Ä
  is_guide: boolean;          // –ü—Ä–æ–≤–æ–¥–Ω–∏–∫
  available_now: boolean;     // –ì–æ—Ç–æ–≤ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è —Å–µ–π—á–∞—Å
}
```

#### 6. –ê—Ç—Ä–∏–±—É—Ç—ã –∫–≤–µ—Å—Ç–æ–≤
```typescript
interface QuestAttributes {
  level: 'beginner' | 'advanced' | 'expert';  // –£—Ä–æ–≤–µ–Ω—å
  duration: 15 | 30 | 60;                      // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω)
  has_rewards: boolean;                        // –° –Ω–∞–≥—Ä–∞–¥–∞–º–∏
}
```

### –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

**–£—Ç–∏–ª–∏—Ç–∞ `applyFilters()`:**
```typescript
function applyFilters(
  objects: GuruObject[],
  filters: GuruFilters
): GuruObject[] {
  let filtered = objects;

  // 1. –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø–∞–º
  if (filters.types.length > 0) {
    filtered = filtered.filter(obj => 
      filters.types.includes(obj.type)
    );
  }

  // 2. –§–∏–ª—å—Ç—Ä –ø–æ –≤—Ä–µ–º–µ–Ω–∏
  if (filters.time === 'now') {
    filtered = filtered.filter(obj => 
      obj.type === 'place' ? obj.isOpen : 
      obj.type === 'event' ? obj.isHappeningNow : 
      obj.type === 'person' ? obj.isAvailableNow : true
    );
  }

  // 3. –§–∏–ª—å—Ç—Ä –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º –º–µ—Å—Ç–∞
  if (filters.attrs.includes('wifi')) {
    filtered = filtered.filter(obj => 
      obj.type === 'place' && obj.hasWifi
    );
  }

  // 4. –§–∏–ª—å—Ç—Ä –ø–æ –ø–æ–∏—Å–∫—É
  if (filters.searchQuery) {
    const query = filters.searchQuery.toLowerCase();
    filtered = filtered.filter(obj =>
      obj.title.toLowerCase().includes(query) ||
      obj.description?.toLowerCase().includes(query) ||
      obj.address?.toLowerCase().includes(query)
    );
  }

  return filtered;
}
```

---

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è

### –§–æ—Ä–º—É–ª–∞ scoring

```typescript
function calculateScore(
  object: GuruObject,
  userLat: number,
  userLng: number,
  mode: SortMode,
  preferences?: UserPreferences
): number {
  // –í–µ—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  let w1 = 0.35;  // proximity
  let w2 = 0.20;  // open_now
  let w3 = 0.20;  // popularity
  let w4 = 0.10;  // freshness
  let w5 = 0.05;  // rf_boost
  let w6 = 0.10;  // personalization

  // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Å–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
  if (mode === 'proximity') {
    w1 = 0.60; w2 = 0.15; w3 = 0.10; w4 = 0.05; w5 = 0.05; w6 = 0.05;
  } else if (mode === 'now') {
    w1 = 0.20; w2 = 0.50; w3 = 0.15; w4 = 0.05; w5 = 0.05; w6 = 0.05;
  } else if (mode === 'popular') {
    w1 = 0.15; w2 = 0.10; w3 = 0.50; w4 = 0.10; w5 = 0.05; w6 = 0.10;
  }

  // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã score
  const distance = calculateDistance(userLat, userLng, object.lat, object.lng);
  const proximityScore = 1 - (distance / 1200); // –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è 0‚Äì1

  const openNowBoost = 
    (object.type === 'place' && object.isOpen) ||
    (object.type === 'event' && object.isHappeningNow) ||
    (object.type === 'person' && object.isAvailableNow) ? 1 : 0;

  const popularityScore = normalizePopularity(object.popularity);
  const freshnessScore = normalizeFreshness(object.updatedAt);
  const rfBoost = object.isRF ? 0.2 : 0;
  const personalizationScore = calculatePersonalization(object, preferences);

  // –ò—Ç–æ–≥–æ–≤—ã–π score
  return (
    w1 * proximityScore +
    w2 * openNowBoost +
    w3 * popularityScore +
    w4 * freshnessScore +
    w5 * rfBoost +
    w6 * personalizationScore
  );
}
```

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏

```typescript
function normalizePopularity(popularity: number): number {
  // –õ–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (—á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π —Ä–∞–∑–Ω–∏—Ü—ã)
  const max = 10000; // –º–∞–∫—Å. –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ
  return Math.log(popularity + 1) / Math.log(max + 1);
}
```

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–µ–∂–µ—Å—Ç–∏

```typescript
function normalizeFreshness(updatedAt: Date): number {
  const now = new Date();
  const ageMs = now.getTime() - updatedAt.getTime();
  const ageDays = ageMs / (1000 * 60 * 60 * 24);
  
  // –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ (—Å–≤–µ–∂–µ–µ = –≤—ã—à–µ score)
  const halfLife = 30; // –ø–æ–ª—É—Ä–∞—Å–ø–∞–¥ 30 –¥–Ω–µ–π
  return Math.exp(-ageDays / halfLife);
}
```

### –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
function calculatePersonalization(
  object: GuruObject,
  preferences?: UserPreferences
): number {
  if (!preferences) return 0;

  let score = 0;

  // 1. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
  if (object.categories) {
    const matchingCategories = object.categories.filter(cat =>
      preferences.interests.includes(cat)
    );
    score += matchingCategories.length * 0.3;
  }

  // 2. –ò—Å—Ç–æ—Ä–∏—è –∫–ª–∏–∫–æ–≤ (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å–º–æ—Ç—Ä–µ–ª –ø–æ—Ö–æ–∂–∏–µ)
  if (preferences.clickHistory) {
    const similarClicks = preferences.clickHistory.filter(click =>
      click.type === object.type && 
      click.categories?.some(cat => object.categories?.includes(cat))
    );
    score += Math.min(similarClicks.length * 0.1, 0.3);
  }

  // 3. –ü–æ–¥–ø–∏—Å–∫–∏ (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞/–º–µ—Å—Ç–æ)
  if (preferences.subscriptions?.includes(object.organizerId)) {
    score += 0.4;
  }

  return Math.min(score, 1); // cap at 1
}
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –º–æ–¥—É–ª—è–º–∏

### 1. Atlas (–ú–µ—Å—Ç–∞)

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:**
- `Content Service ‚Üí /places`
- –ü–æ–ª—è: title, description, address, lat, lng, categories, photos, hours, amenities, rating

**–ö–∞—Ä—Ç–æ—á–∫–∞ –º–µ—Å—Ç–∞:**
```typescript
interface PlaceCard {
  type: 'place';
  title: string;
  cover: string;
  distance: number;           // –º–µ—Ç—Ä—ã
  walkingTime: number;        // –º–∏–Ω—É—Ç—ã
  isOpen: boolean;
  openingHours: string;       // "09:00 ‚Äì 22:00"
  rating: number;             // 0‚Äì5
  priceLevel: number;         // 1‚Äì3 ($, $$, $$$)
  categories: string[];
  amenities: string[];        // wifi, power_outlets, quiet
  badges: ('RF' | 'Verified')[];
}
```

**–ü–µ—Ä–µ—Ö–æ–¥:**
- –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ ‚Üí `/atlas/places/[id]`
- –ö–ª–∏–∫ –ø–æ ¬´–ú–∞—Ä—à—Ä—É—Ç¬ª ‚Üí Google/Yandex Maps —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏

---

### 2. Pulse (–°–æ–±—ã—Ç–∏—è)

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:**
- `Content Service ‚Üí /events`
- –ü–æ–ª—è: title, description, cover, lat, lng, startDate, endDate, categories, organizer

**–ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–±—ã—Ç–∏—è:**
```typescript
interface EventCard {
  type: 'event';
  title: string;
  cover: string;
  distance: number;
  walkingTime: number;
  startDate: Date;
  endDate: Date;
  isHappeningNow: boolean;
  categories: string[];
  organizer: string;
  badges: ('Event' | 'RF' | 'Free' | 'Verified')[];
}
```

**–ü–µ—Ä–µ—Ö–æ–¥:**
- –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ ‚Üí `/pulse/[id]`
- –ö–Ω–æ–ø–∫–∞ RSVP –ø—Ä—è–º–æ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

### 3. AIRent NSK (–ñ–∏–ª—å—ë)

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:**
- `AIRent Service ‚Üí /listings`
- –ü–æ–ª—è: title, photos, lat, lng, pricePerNight, availableFrom, availableTo, type (apartment/room/hostel)

**–ö–∞—Ä—Ç–æ—á–∫–∞ –∂–∏–ª—å—è:**
```typescript
interface HousingCard {
  type: 'housing';
  title: string;
  cover: string;
  distance: number;
  walkingTime: number;
  pricePerNight: number;      // RUB
  availableNow: boolean;
  availableFrom: Date;
  housingType: string;        // –ö–≤–∞—Ä—Ç–∏—Ä–∞ / –ö–æ–º–Ω–∞—Ç–∞ / –•–æ—Å—Ç–µ–ª
  badges: ('Available' | 'Verified')[];
}
```

**–ü–µ—Ä–µ—Ö–æ–¥:**
- –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ ‚Üí `/housing/[id]` (–º–æ–¥—É–ª—å AIRent NSK)

---

### 4. Space Asia (–õ—é–¥–∏/PRO)

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:**
- `User Service ‚Üí /users?nearby=true`
- –ü–æ–ª—è: userId, displayName, avatar, lat, lng, isPRO, roles (mentor/guide), bio, isAvailableNow

**–ö–∞—Ä—Ç–æ—á–∫–∞ —á–µ–ª–æ–≤–µ–∫–∞:**
```typescript
interface PersonCard {
  type: 'person';
  displayName: string;
  avatar: string;
  distance: number;
  walkingTime: number;
  isPRO: boolean;
  roles: ('mentor' | 'guide')[];
  bio: string;
  isAvailableNow: boolean;    // opt-in —Å—Ç–∞—Ç—É—Å
  badges: ('PRO' | 'Mentor' | 'Guide' | 'Verified')[];
}
```

**–ü–µ—Ä–µ—Ö–æ–¥:**
- –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ ‚Üí `/space/profile/[userId]`
- –ö–Ω–æ–ø–∫–∞ ¬´–ù–∞–ø–∏—Å–∞—Ç—å¬ª ‚Üí `/space/chat/[userId]` (DM)

**–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:**
- –í–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å opt-in: "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –º–µ–Ω—è —Ä—è–¥–æ–º"
- –¢–æ—á–Ω–æ—Å—Ç—å –ª–æ–∫–∞—Ü–∏–∏: "–∫–≤–∞—Ä—Ç–∞–ª" (200‚Äì300 –º)

---

### 5. Quest Asia (–ö–≤–µ—Å—Ç—ã)

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:**
- `Quest Service ‚Üí /quests`
- –ü–æ–ª—è: title, description, icon, lat, lng, level, duration, rewards, checkpoints

**–ö–∞—Ä—Ç–æ—á–∫–∞ –∫–≤–µ—Å—Ç–∞:**
```typescript
interface QuestCard {
  type: 'quest';
  title: string;
  icon: string;
  distance: number;
  walkingTime: number;
  level: 'beginner' | 'advanced' | 'expert';
  duration: number;           // –º–∏–Ω—É—Ç—ã
  rewards: string;            // "50 Points + NFT badge"
  checkpointsCount: number;
  badges: ('Quest' | 'New' | 'Trending')[];
}
```

**–ü–µ—Ä–µ—Ö–æ–¥:**
- –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ ‚Üí `/quest/[id]`
- –ö–Ω–æ–ø–∫–∞ ¬´–°—Ç–∞—Ä—Ç¬ª ‚Üí –Ω–∞—á–∞–ª–æ –∫–≤–µ—Å—Ç–∞ —Å —á–µ–∫-–∏–Ω–æ–º

---

## –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è

### 1. –ó–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Guru Asia
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥:
   "Guru Asia —Ö–æ—á–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ
    –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Ä—è–¥–æ–º —Å –≤–∞–º–∏"
   [–†–∞–∑—Ä–µ—à–∏—Ç—å] [–ó–∞–ø—Ä–µ—Ç–∏—Ç—å]
3. –ü—Ä–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏: Navigator Geolocation API
4. –ü—Ä–∏ –∑–∞–ø—Ä–µ—Ç–µ: Fallback –Ω–∞ IP Geolocation –∏–ª–∏ —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä
```

**–¢–æ—á–Ω–æ—Å—Ç—å:**
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** "–∫–≤–∞—Ä—Ç–∞–ª" (200‚Äì300 –º) ‚Äî enableHighAccuracy: false
- **–¢–æ—á–Ω—ã–π —Ä–µ–∂–∏–º (opt-in):** —Ç–æ—á–Ω–æ—Å—Ç—å ~10‚Äì50 –º ‚Äî enableHighAccuracy: true

### 2. –í–∏–¥–∏–º–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (People/PRO)

**Opt-in –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Space Asia:**
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ ‚Üí –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
‚òê –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –º–µ–Ω—è –≤ –º–æ–¥—É–ª–µ Guru Asia
  ‚îî‚îÄ –ö–æ–≥–¥–∞: [–í—Å–µ–≥–¥–∞ / –¢–æ–ª—å–∫–æ —Å–µ–π—á–∞—Å / –ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é]
  ‚îî‚îÄ –†–∞–¥–∏—É—Å –≤–∏–¥–∏–º–æ—Å—Ç–∏: [500 –º / 1 –∫–º / 2 –∫–º]
  ‚îî‚îÄ –í–∏–¥—è—Ç –º–µ–Ω—è: [–í—Å–µ / –¢–æ–ª—å–∫–æ –¥—Ä—É–∑—å—è / –¢–æ–ª—å–∫–æ PRO]
```

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –í–´–ö–õ–Æ–ß–ï–ù–û (opt-in, –∞ –Ω–µ opt-out)

### 3. –•—Ä–∞–Ω–µ–Ω–∏–µ –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö

**–ù–∞ –∫–ª–∏–µ–Ω—Ç–µ:**
- `localStorage.guruLastPosition` ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–∑–∏—Ü–∏—è (TTL: 10 –º–∏–Ω)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ throttle: –Ω–µ —á–∞—â–µ 1 —Ä–∞–∑–∞ –≤ 5 —Å–µ–∫—É–Ω–¥

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
- –ù–µ —Ö—Ä–∞–Ω–∏–º –∏—Å—Ç–æ—Ä–∏—é –≥–µ–æ–ø–æ–∑–∏—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –•—Ä–∞–Ω–∏–º —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é —Å TTL: 15 –º–∏–Ω—É—Ç
- –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω:**
- Navigator Geolocation API —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ HTTPS
- Fallback –Ω–∞ IP Geolocation –ø—Ä–∏ HTTP (–º–µ–Ω–µ–µ —Ç–æ—á–Ω–æ)

**Rate Limiting:**
- –ì–µ–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: –º–∞–∫—Å. 1 –∑–∞–ø—Ä–æ—Å –≤ 5 —Å–µ–∫
- API-–∑–∞–ø—Ä–æ—Å—ã –æ–±—ä–µ–∫—Ç–æ–≤: –º–∞–∫—Å. 60 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## –î–µ–º–æ-–∫–æ–Ω—Ç–µ–Ω—Ç

### –û–±—ä–µ–∫—Ç—ã –¥–ª—è –¥–µ–º–æ (–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫)

#### –ú–µ—Å—Ç–∞ (Atlas) ‚Äî 15 –æ–±—ä–µ–∫—Ç–æ–≤
1. **Coffee Bean** (–∫–∞—Ñ–µ) ‚Äî 350 –º, Wi-Fi, —Ä–æ–∑–µ—Ç–∫–∏, RF
2. **–ö–æ–≤–æ—Ä–∫–∏–Ω–≥ "–•–∞–±"** (–∫–æ–≤–æ—Ä–∫–∏–Ω–≥) ‚Äî 500 –º, Wi-Fi, —Ä–æ–∑–µ—Ç–∫–∏, —Ç–∏—Ö–æ, RF
3. **–ö–æ—Ñ–µ–π–Ω—è "–ë–æ–¥—Ä—ã–π –î–µ–Ω—å"** (–∫–∞—Ñ–µ) ‚Äî 750 –º, –∫–æ—Ñ–µ, –∑–∞–≤—Ç—Ä–∞–∫
4. **–ú—É–∑–µ–π –ì–æ—Ä–æ–¥–∞** (–º—É–∑–µ–π) ‚Äî 900 –º, –∫—É–ª—å—Ç—É—Ä–∞, Verified
5. **–ü–∞—Ä–∫ –ö—É–ª—å—Ç—É—Ä—ã** (–ø–∞—Ä–∫) ‚Äî 1 –∫–º, —Å–µ–º—å—è, kid-friendly
6. **–ö–æ–≤–æ—Ä–∫–∏–Ω–≥ "–†–∞–±–æ—á–µ–µ –ú–µ—Å—Ç–æ"** (–∫–æ–≤–æ—Ä–∫–∏–Ω–≥) ‚Äî 450 –º, Wi-Fi, RF
7. **–†–µ—Å—Ç–æ—Ä–∞–Ω "–í–∫—É—Å –ê–∑–∏–∏"** (—Ä–µ—Å—Ç–æ—Ä–∞–Ω) ‚Äî 600 –º, –µ–¥–∞, $$
8. **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–º. –ü—É—à–∫–∏–Ω–∞** (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞) ‚Äî 800 –º, —Ç–∏—Ö–æ, Wi-Fi
9. **–°–ø–æ—Ä—Ç–∑–∞–ª "–≠–Ω–µ—Ä–≥–∏—è"** (—Å–ø–æ—Ä—Ç–∑–∞–ª) ‚Äî 700 –º, —Å–ø–æ—Ä—Ç
10. **–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä "–ú–∏—Ä"** (–∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä) ‚Äî 1.1 –∫–º, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è
... –µ—â—ë 5 –º–µ—Å—Ç

#### –°–æ–±—ã—Ç–∏—è (Pulse) ‚Äî 8 –æ–±—ä–µ–∫—Ç–æ–≤
1. **Yoga Sunrise Session** ‚Äî —Å–µ–≥–æ–¥–Ω—è 07:00, 200 –º, –±–µ—Å–ø–ª–∞—Ç–Ω–æ, Event
2. **Meetup "IT –≤ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–µ"** ‚Äî —Å–µ–≥–æ–¥–Ω—è 19:00, 650 –º, RF, Verified
3. **–ö–æ–Ω—Ü–µ—Ä—Ç –≤ –ø–∞—Ä–∫–µ** ‚Äî –∑–∞–≤—Ç—Ä–∞ 18:00, 900 –º, –ø–ª–∞—Ç–Ω–æ
4. **–≠–∫—Å–∫—É—Ä—Å–∏—è –ø–æ –≥–æ—Ä–æ–¥—É** ‚Äî —Å–µ–≥–æ–¥–Ω—è 14:00, 500 –º, RF
5. **–§–µ—Å—Ç–∏–≤–∞–ª—å –µ–¥—ã** ‚Äî —ç—Ç–∏ –≤—ã—Ö–æ–¥–Ω—ã–µ, 1 –∫–º, Event, Free
... –µ—â—ë 3 —Å–æ–±—ã—Ç–∏—è

#### –ñ–∏–ª—å—ë (AIRent NSK) ‚Äî 5 –æ–±—ä–µ–∫—Ç–æ–≤
1. **–£—é—Ç–Ω–∞—è 2-–∫–æ–º–Ω–∞—Ç–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞** ‚Äî 350 –º, 3500 ‚ÇΩ/–Ω–æ—á—å, —Å–≤–æ–±–æ–¥–Ω–æ, $$
2. **–°—Ç—É–¥–∏—è –≤ —Ü–µ–Ω—Ç—Ä–µ** ‚Äî 600 –º, 2000 ‚ÇΩ/–Ω–æ—á—å, —Å–≤–æ–±–æ–¥–Ω–æ, $
3. **–•–æ—Å—Ç–µ–ª "–ü—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫"** ‚Äî 800 –º, 800 ‚ÇΩ/–Ω–æ—á—å, —Å–≤–æ–±–æ–¥–Ω–æ, $
... –µ—â—ë 2 –æ–±—ä–µ–∫—Ç–∞

#### –õ—é–¥–∏/PRO (Space) ‚Äî 5 –æ–±—ä–µ–∫—Ç–æ–≤
1. **–î–º–∏—Ç—Ä–∏–π ‚Äî –ú–µ—Å—Ç–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç** ‚Äî 96 –º, PRO, Mentor, –¥–æ—Å—Ç—É–ø–µ–Ω —Å–µ–π—á–∞—Å
2. **–ï–ª–µ–Ω–∞ ‚Äî –†–∏–µ–ª—Ç–æ—Ä** ‚Äî 169 –º, PRO, –¥–æ—Å—Ç—É–ø–Ω–∞ —Å–µ–π—á–∞—Å
3. **–ê–Ω–Ω–∞ ‚Äî –ì–∏–¥ –ø–æ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫—É** ‚Äî 242 –º, PRO, Guide, –¥–æ—Å—Ç—É–ø–Ω–∞ —Å–µ–π—á–∞—Å
... –µ—â—ë 2 —á–µ–ª–æ–≤–µ–∫–∞

#### –ö–≤–µ—Å—Ç—ã (Quest Asia) ‚Äî 3 –æ–±—ä–µ–∫—Ç–∞
1. **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≥—É–ª–∫–∞** ‚Äî 400 –º, 60 –º–∏–Ω, –Ω–æ–≤–∏—á–æ–∫, —Å –Ω–∞–≥—Ä–∞–¥–∞–º–∏
2. **–°–µ–∫—Ä–µ—Ç—ã —Å—Ç–∞—Ä–æ–≥–æ –≥–æ—Ä–æ–¥–∞** ‚Äî 700 –º, 90 –º–∏–Ω, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π, —Å –Ω–∞–≥—Ä–∞–¥–∞–º–∏
3. **–§–æ—Ç–æ-–æ—Ö–æ—Ç–∞** ‚Äî 550 –º, 30 –º–∏–Ω, –Ω–æ–≤–∏—á–æ–∫

**–ò—Ç–æ–≥–æ:** 36 –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –¥–µ–º–æ

---

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### ‚úÖ –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

#### 1. TypeScript –æ—à–∏–±–∫–∞: Property 'id' does not exist on GuruObjectWithDistance

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ü—Ä–∏ —Å–±–æ—Ä–∫–µ –Ω–∞ Netlify –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞ TypeScript: `Property 'id' does not exist on type 'GuruObjectWithDistance'` –≤ `GuruListView.tsx`.

**–ü—Ä–∏—á–∏–Ω–∞:**  
`GuruObjectWithDistance` –±—ã–ª –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –∫–∞–∫ `interface extends GuruObject`, –Ω–æ `GuruObject` ‚Äî —ç—Ç–æ union type (`PlaceObject | EventObject | ...`), –∏ TypeScript –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ `id` –Ω–∞–ø—Ä—è–º—É—é.

**–†–µ—à–µ–Ω–∏–µ:**  
–ò–∑–º–µ–Ω—ë–Ω —Ç–∏–ø —Å `interface extends` –Ω–∞ `type intersection`:
```typescript
export type GuruObjectWithDistance = GuruObject & {
  distance: number;
  walkingTime: number;
  score?: number;
};
```

**–ö–æ–º–º–∏—Ç:** `d7148d6`

---

#### 2. TypeScript –æ—à–∏–±–∫–∞: Conversion of type 'GuruObject[]' to 'GuruObjectWithDistance[]'

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ: `applyFilters()` –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ `GuruObject[]`, –∞ —Ç—Ä–µ–±–æ–≤–∞–ª—Å—è `GuruObjectWithDistance[]`.

**–†–µ—à–µ–Ω–∏–µ:**  
–ò–∑–º–µ–Ω–µ–Ω–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ `applyFilters()` –∏ –≤—Å–µ—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `GuruObjectWithDistance[]`:
```typescript
export function applyFilters(
  objects: GuruObjectWithDistance[],
  filters: GuruFilters
): GuruObjectWithDistance[]
```

**–ö–æ–º–º–∏—Ç:** `02925b6`

---

#### 3. –§–∏–ª—å—Ç—Ä—ã –∑–∞–∫—Ä—ã–≤–∞—é—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –ø–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∑–∞–Ω–∏–º–∞–ª–∞ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –∏ –∑–∞–∫—Ä—ã–≤–∞–ª–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω.

**–†–µ—à–µ–Ω–∏–µ:**  
- –°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ (—Ç–æ–ª—å–∫–æ –ø–æ–∏—Å–∫, —Ç–∏–ø—ã, —Ä–∞–¥–∏—É—Å)
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ Bottom Sheet —Å overlay
- Desktop –≤–µ—Ä—Å–∏—è –æ—Å—Ç–∞–ª–∞—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ö–æ–º–º–∏—Ç:** `8644d56`

---

#### 4. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –≤ –ø–æ–ø–∞–ø–∞—Ö –∫–∞—Ä—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ü–æ–ø–∞–ø—ã –Ω–∞ –∫–∞—Ä—Ç–µ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞–ª–∏ —Å—Å—ã–ª–æ–∫ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±—ä–µ–∫—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**  
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getObjectLink()` –≤ `GuruMapView`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ" –≤ –ø–æ–ø–∞–ø—ã —Å –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Å—ã–ª–∫–æ–π
- –£–ª—É—á—à–µ–Ω –¥–∏–∑–∞–π–Ω –ø–æ–ø–∞–ø–æ–≤

**–ö–æ–º–º–∏—Ç:** `e4e2e22`

---

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (—Ä–µ—à–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã)

### 1. Leaflet –≤ Next.js (SSR)

**–ü—Ä–æ–±–ª–µ–º–∞:**  
Leaflet –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `window` –∏ `document`, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (SSR).

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç —Å –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ–º SSR
import dynamic from 'next/dynamic';

const GuruMapView = dynamic(
  () => import('@/components/guru/GuruMapView'),
  { ssr: false }
);
```

---

### 2. –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è vs –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ü—Ä–∏ 500+ –æ–±—ä–µ–∫—Ç–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è —Ç–æ—Ä–º–æ–∑–∏—Ç –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ:**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤: –º–∞–∫—Å. 200 –≤ —Ä–∞–¥–∏—É—Å–µ
- Server-side –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –∫–∞—Ä—Ç—ã (bounds-based)

---

### 3. –¢–æ—á–Ω–æ—Å—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ù–∞ iOS –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Ç–æ—á–Ω–æ—Å—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –Ω–∏–∂–µ, —á–µ–º –≤ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö (~100‚Äì300 –º).

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–π —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (enableHighAccuracy: false)
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫—Ä—É–≥ –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–µ (accuracy circle)
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä –ª–æ–∫–∞—Ü–∏–∏ (–ø–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–∞)

---

### 4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –∏ —Å–ø–∏—Å–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –∫–∞—Ä—Ç—ã —Å–ø–∏—Å–æ–∫ –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è, –Ω–æ –Ω–µ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ.

**–†–µ—à–µ–Ω–∏–µ:**
- Debounce 300 –º—Å –Ω–∞ `onMapMove`
- Throttle 500 –º—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

---

### 5. –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å PRO-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Ö–æ—Ç—è—Ç, —á—Ç–æ–±—ã –∏—Ö —Ç–æ—á–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è –±—ã–ª–∞ –≤–∏–¥–Ω–∞ –≤—Å–µ–º.

**–†–µ—à–µ–Ω–∏–µ:**
- Opt-in –º–æ–¥–µ–ª—å: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∏–¥–∏–º–æ—Å—Ç—å –í–´–ö–õ–Æ–ß–ï–ù–ê
- –¢–æ—á–Ω–æ—Å—Ç—å "–∫–≤–∞—Ä—Ç–∞–ª" (200‚Äì300 –º), –∞ –Ω–µ —Ç–æ—á–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏: –∫–æ–≥–¥–∞ –≤–∏–¥–Ω–æ, –∫–æ–º—É –≤–∏–¥–Ω–æ, —Ä–∞–¥–∏—É—Å –≤–∏–¥–∏–º–æ—Å—Ç–∏

---

### 6. Offline —Ä–µ–∂–∏–º

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∫–∞—Ä—Ç–∞ –∏ –æ–±—ä–µ–∫—Ç—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:**
- Service Worker —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º OSM —Ç–∞–π–ª–æ–≤ (zoom levels 10‚Äì16)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–∏–∂–∞–π—à–∏—Ö 200‚Äì300 –æ–±—ä–µ–∫—Ç–æ–≤ (5 –º–∏–Ω TTL)
- Fallback UI: "–ü–æ–∫–∞–∑–∞–Ω—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"

---

### 7. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –≤ –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ö–∞—Ä—Ç–æ—á–∫–∏ –º–µ—Å—Ç, —Å–æ–±—ã—Ç–∏–π, –∂–∏–ª—å—è, –ª—é–¥–µ–π, –∫–≤–µ—Å—Ç–æ–≤ –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –ø–æ–ª—è.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–∏—Å–∫—Ä–∏–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π union type:
```typescript
type GuruObject = 
  | PlaceObject 
  | EventObject 
  | HousingObject 
  | PersonObject 
  | QuestObject;

// Type guards –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
function isPlaceObject(obj: GuruObject): obj is PlaceObject {
  return obj.type === 'place';
}
```
- –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ ObjectCard

---

## –ß—Ç–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–æ—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ Phase 2)

### 1. –ú–∞—Ä—à—Ä—É—Ç—ã (Directions)

**–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:**
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥ (–ø–µ—à–∫–æ–º/—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OpenRouteService API
- –ü–æ–∫–∞–∑ –º–∞—Ä—à—Ä—É—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ (polyline)
- –†–∞—Å—á—ë—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—É—Ç–∏ —Å —É—á—ë—Ç–æ–º –ø—Ä–æ–±–æ–∫

**–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ:**
- –ö–Ω–æ–ø–∫–∞ ¬´–ú–∞—Ä—à—Ä—É—Ç¬ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Google/Yandex Maps —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏

---

### 2. –†–µ–∂–∏–º –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ (AR)

**–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:**
- AR-—Ä–µ–∂–∏–º —Å –Ω–∞–ª–æ–∂–µ–Ω–∏–µ–º –º–µ—Ç–æ–∫ –Ω–∞ –∫–∞–º–µ—Ä—É (WebXR)
- –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫ –æ–±—ä–µ–∫—Ç—É –≤ AR
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Quest Asia (AR-–∫–≤–µ—Å—Ç—ã)

**–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–ª–æ–∂–µ–Ω–∏—è:**
- WebXR –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ (iOS Safari –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)
- –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ AR

---

### 3. –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:**
- –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á: "–ö—Ç–æ —Ö–æ—á–µ—Ç –ø–æ–π—Ç–∏ –≤ –∫–∞—Ñ–µ —Å–µ–π—á–∞—Å?"
- –°—Ç–∞—Ç—É—Å "–ì–æ—Ç–æ–≤ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è" —Å —Ç–∞–π–º–µ—Ä–æ–º (1 —á–∞—Å / 2 —á–∞—Å–∞ / –≤–µ—Å—å –¥–µ–Ω—å)
- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥—Ä—É–∑–µ–π –Ω–∞ —Å–æ–±—ã—Ç–∏—è/–º–µ—Å—Ç–∞

**–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ:**
- –ë–∞–∑–æ–≤–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å PRO-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (opt-in)
- –ü–µ—Ä–µ—Ö–æ–¥ –≤ Space Asia –¥–ª—è DM

---

### 4. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (ML)

**–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:**
- ML-–º–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π
- Collaborative filtering: "–õ—é–¥–∏ —Å –ø–æ—Ö–æ–∂–∏–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏ —Ç–∞–∫–∂–µ –ø–æ—Å–µ—Ç–∏–ª–∏..."

**–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ:**
- –ë–∞–∑–æ–≤–∞—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤
- –ë—É—Å—Ç –¥–ª—è RF-–ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤

---

### 5. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö —Ä—è–¥–æ–º

**–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:**
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: "–ß–µ—Ä–µ–∑ 30 –º–∏–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –≤ 200 –º –æ—Ç –≤–∞—Å"
- –ì–µ–æ—Ñ–µ–Ω—Å–∏–Ω–≥: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∑–æ–Ω—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞

**–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–ª–æ–∂–µ–Ω–∏—è:**
- –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Push Notifications (Service Worker + Firebase)
- –ù—É–∂–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º

**–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:**
- –ü–æ–∫–∞–∑ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ
- –ú–∞—Ä—à—Ä—É—Ç—ã —Å —É—á—ë—Ç–æ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (–∞–≤—Ç–æ–±—É—Å/–º–µ—Ç—Ä–æ)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 2GIS / –Ø–Ω–¥–µ–∫—Å.–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç

**–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–ª–æ–∂–µ–Ω–∏—è:**
- –¢—Ä–µ–±—É–µ—Ç—Å—è API –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (–ø–ª–∞—Ç–Ω—ã–π)
- –ü–æ–∫—Ä—ã—Ç–∏–µ –Ω–µ –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤ –Æ–í–ê

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### Phase 1 (MVP) ‚Äî ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

**–¶–µ–ª—å:** –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Guru Asia

#### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:
1. ‚úÖ **–î–∏–∑–∞–π–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** (2 –¥–Ω—è)
   - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ ObjectCard
   - GuruFilters —Å —á–∏–ø–∞–º–∏
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π split UI (–∫–∞—Ä—Ç–∞ + —Å–ø–∏—Å–æ–∫)

2. ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Leaflet + OSM** (2 –¥–Ω—è)
   - –ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —Å —Ç–∞–π–ª–∞–º–∏
   - –ú–∞—Ä–∫–µ—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
   - –ü–æ–ø–∞–ø—ã –ø—Ä–∏ –∫–ª–∏–∫–µ —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏

3. ‚úÖ **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è** (1 –¥–µ–Ω—å)
   - useGeolocation —Ö—É–∫
   - –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
   - Fallback –Ω–∞ IP Geolocation

4. ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** (2 –¥–Ω—è)
   - applyFilters —É—Ç–∏–ª–∏—Ç–∞
   - rankObjects —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º scoring
   - URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

5. ‚úÖ **–î–µ–º–æ-–∫–æ–Ω—Ç–µ–Ω—Ç** (1 –¥–µ–Ω—å)
   - 36 –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞
   - –ú–æ–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ (–º–µ—Å—Ç–∞/—Å–æ–±—ã—Ç–∏—è/–∂–∏–ª—å—ë/–ª—é–¥–∏/–∫–≤–µ—Å—Ç—ã)

6. ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–¥—É–ª—è–º–∏** (2 –¥–Ω—è)
   - –°—Å—ã–ª–∫–∏ –Ω–∞ Atlas/Pulse/Space/Quest
   - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥
   - –ë–µ–π–¥–∂–∏ (RF/PRO/Event/Quest/Verified)

7. ‚úÖ **–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è** (2 –¥–Ω—è)
   - Split view (–∫–∞—Ä—Ç–∞ + —Å–ø–∏—Å–æ–∫)
   - Bottom Sheet –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
   - –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π UI
   - Touch-friendly –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–ò—Ç–æ–≥–æ:** 12 –¥–Ω–µ–π ‚Äî ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

---

### Phase 2 (–£–ª—É—á—à–µ–Ω–∏—è) ‚Äî 1‚Äì2 –Ω–µ–¥–µ–ª–∏

#### –ó–∞–¥–∞—á–∏:
1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend API** (3 –¥–Ω—è)
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Content Service
   - –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ bounds –∫–∞—Ä—Ç—ã
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤** (2 –¥–Ω—è)
   - leaflet.markercluster
   - –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

3. **–ú–∞—Ä—à—Ä—É—Ç—ã (Directions)** (2 –¥–Ω—è)
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenRouteService API
   - –ü–æ–∫–∞–∑ –º–∞—Ä—à—Ä—É—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ (polyline)
   - –†–∞—Å—á—ë—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—É—Ç–∏

4. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** (2 –¥–Ω—è)
   - –ò—Å—Ç–æ—Ä–∏—è –∫–ª–∏–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - ML-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–±–∞–∑–æ–≤—ã–µ)

5. **Offline —Ä–µ–∂–∏–º** (2 –¥–Ω—è)
   - Service Worker –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ö—ç—à —Ç–∞–π–ª–æ–≤ OSM
   - Fallback UI

**–ò—Ç–æ–≥–æ:** 11 –¥–Ω–µ–π (~2 –Ω–µ–¥–µ–ª–∏)

---

### Phase 3 (–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏) ‚Äî 2‚Äì3 –Ω–µ–¥–µ–ª–∏

#### –ó–∞–¥–∞—á–∏:
1. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** (5 –¥–Ω–µ–π)
   - –°—Ç–∞—Ç—É—Å "–ì–æ—Ç–æ–≤ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è"
   - –ì—Ä—É–ø–ø–æ–≤—ã–µ –≤—Å—Ç—Ä–µ—á–∏
   - –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥—Ä—É–∑–µ–π

2. **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (3 –¥–Ω—è)
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Service Worker + Firebase
   - –ì–µ–æ—Ñ–µ–Ω—Å–∏–Ω–≥
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö —Ä—è–¥–æ–º

3. **AR-—Ä–µ–∂–∏–º (WebXR)** (5 –¥–Ω–µ–π)
   - –ë–∞–∑–æ–≤–∞—è AR-–∫–∞–º–µ—Ä–∞
   - –ù–∞–ª–æ–∂–µ–Ω–∏–µ –º–µ—Ç–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Quest Asia

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º** (3 –¥–Ω—è)
   - API –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
   - –ü–æ–∫–∞–∑ –Ω–∞ –∫–∞—Ä—Ç–µ
   - –†–∞—Å—á—ë—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º

**–ò—Ç–æ–≥–æ:** 16 –¥–Ω–µ–π (~3 –Ω–µ–¥–µ–ª–∏)

---

## –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (package.json):
```json
{
  "dependencies": {
    "react-leaflet": "^4.2.1",
    "leaflet": "^1.9.4",
    "leaflet.markercluster": "^1.5.3",
    "@turf/turf": "^6.5.0",
    "react-use": "^17.4.0"
  },
  "devDependencies": {
    "@types/leaflet": "^1.9.8",
    "@types/leaflet.markercluster": "^1.5.4"
  }
}
```

#### CSS (–¥–ª—è Leaflet):
```css
/* styles/leaflet-custom.css */
@import '~leaflet/dist/leaflet.css';
@import '~leaflet.markercluster/dist/MarkerCluster.css';
@import '~leaflet.markercluster/dist/MarkerCluster.Default.css';

/* –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –º–∞—Ä–∫–µ—Ä–æ–≤ */
.marker-place { background-color: #06B6D4; }
.marker-event { background-color: #A855F7; }
.marker-housing { background-color: #10B981; }
.marker-person { background-color: #F97316; }
.marker-quest { background-color: #F59E0B; }
```

---

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–π–ª—ã
- **–°–æ–∑–¥–∞–Ω–æ:** 17 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- **–ò–∑–º–µ–Ω–µ–Ω–æ:** 3 —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `app/(public)/guru/page.tsx` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `app/(public)/guru/layout.tsx` ‚Äî layout —Å Suspense
- `app/(public)/guru/GuruClient.tsx` ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `components/guru/types.ts` ‚Äî TypeScript —Ç–∏–ø—ã
- `components/guru/mockObjects.ts` ‚Äî –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ (36 –æ–±—ä–µ–∫—Ç–æ–≤)
- `components/guru/utils/geo.ts` ‚Äî –≥–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
- `components/guru/utils/filters.ts` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ URL-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- `components/guru/utils/ranking.ts` ‚Äî —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- `components/guru/utils/index.ts` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç—ã —É—Ç–∏–ª–∏—Ç
- `components/guru/hooks/useGeolocation.ts` ‚Äî —Ö—É–∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
- `components/guru/hooks/index.ts` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç—ã —Ö—É–∫–æ–≤
- `components/guru/ObjectCard.tsx` ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
- `components/guru/GuruMapView.tsx` ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ OSM
- `components/guru/GuruFilters.tsx` ‚Äî –ø–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `components/guru/GuruListView.tsx` ‚Äî —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤
- `components/guru/index.ts` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `app/globals.css` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ Leaflet
- `apps/go2asia-pwa-shell/package.json` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ö–æ–¥
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** ~6200 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- **TypeScript:** ~98%
- **React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 8
- **–£—Ç–∏–ª–∏—Ç:** 3
- **–•—É–∫–æ–≤:** 1

### –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
- **–û–±—ä–µ–∫—Ç—ã:** 36 (15 –º–µ—Å—Ç, 8 —Å–æ–±—ã—Ç–∏–π, 5 –∂–∏–ª—å—è, 5 –ª—é–¥–µ–π, 3 –∫–≤–µ—Å—Ç–∞)
- **–û–±–ª–æ–∂–∫–∏/–∞–≤–∞—Ç–∞—Ä—ã:** 36 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Unsplash)
- **–ì–æ—Ä–æ–¥–∞:** 1 (–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –¥–ª—è MVP)

---

## Acceptance Criteria (MVP)

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ Phase 1

- [x] Split UI: –ö–∞—Ä—Ç–∞ (—Å–ª–µ–≤–∞/–≤–µ—Ä—Ö) + –°–ø–∏—Å–æ–∫ (—Å–ø—Ä–∞–≤–∞/–Ω–∏–∑)
- [x] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ OSM —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏ –∏ —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è 5 —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
- [x] –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∑–∞–ø—Ä–æ—Å–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏ fallback
- [x] –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø–∞–º, –≤—Ä–µ–º–µ–Ω–∏, –∞—Ç—Ä–∏–±—É—Ç–∞–º —Å URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- [x] –†–∞–¥–∏—É—Å: 600 / 800 / 1000 / 1200 –º
- [x] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ë–ª–∏–∂–µ / –°–µ–π—á–∞—Å / –¢–æ–ø
- [x] –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É—á—ë—Ç–æ–º –±–ª–∏–∑–æ—Å—Ç–∏, –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏, –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
- [x] –ü–µ—Ä–µ—Ö–æ–¥—ã –≤ –º–æ–¥—É–ª–∏: Atlas, Pulse, Space, Quest, AIRent NSK
- [x] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö (split view, bottom sheet –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤)
- [x] –ê–∫—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –ø–æ–ø–∞–ø–∞—Ö –∫–∞—Ä—Ç—ã
- [x] –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –∫–∞—Ä—Ç–æ–π

### ‚è≥ –û—Ç–ª–æ–∂–∏—Ç—å –Ω–∞ Phase 2

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend API (Content Service)
- [ ] –ú–∞—Ä—à—Ä—É—Ç—ã (Directions) —Å OpenRouteService
- [ ] –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (ML-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
- [ ] Offline —Ä–µ–∂–∏–º (Service Worker)

### ‚è≥ –û—Ç–ª–æ–∂–∏—Ç—å –Ω–∞ Phase 3

- [ ] –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–≥—Ä—É–ø–ø–æ–≤—ã–µ –≤—Å—Ç—Ä–µ—á–∏, –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è)
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –≥–µ–æ—Ñ–µ–Ω—Å–∏–Ω–≥
- [ ] AR-—Ä–µ–∂–∏–º (WebXR)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º

---

## –ö–æ–º–º–∏—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã –≤–µ—Ç–∫–∏ `feature/guru-asia-nearby`:

1. **`96fb62d`** - `feat(guru): implement Guru Asia module with split UI (map + list)`
   - –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ (36 –æ–±—ä–µ–∫—Ç–æ–≤)

2. **`02925b6`** - `fix(guru): fix TypeScript type error in applyFilters`
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è `applyFilters()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `GuruObjectWithDistance[]`

3. **`d7148d6`** - `fix(guru): fix GuruObjectWithDistance type to use intersection type`
   - –ò–∑–º–µ–Ω—ë–Ω —Ç–∏–ø —Å `interface extends` –Ω–∞ `type intersection`
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ TypeScript –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

4. **`e4e2e22`** - `feat(guru): add active links in map popups and ensure list visibility`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ" –≤ –ø–æ–ø–∞–ø—ã –∫–∞—Ä—Ç—ã
   - –£–ª—É—á—à–µ–Ω –¥–∏–∑–∞–π–Ω –ø–æ–ø–∞–ø–æ–≤

5. **`8644d56`** - `fix(guru): make filters compact on mobile devices`
   - –°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
   - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ Bottom Sheet
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏, –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º–∏ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

---

## –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ merge

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

- ‚úÖ –õ–∏–Ω—Ç–µ—Ä: 0 –æ—à–∏–±–æ–∫
- ‚úÖ TypeScript: –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Build: —É—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞ –Ω–∞ Netlify
- ‚úÖ Deployment: —É—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ production
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

- ‚úÖ Split UI —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–∞—Ä—Ç–∞ + —Å–ø–∏—Å–æ–∫)
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å fallback
- ‚úÖ –ü–æ–ø–∞–ø—ã –Ω–∞ –∫–∞—Ä—Ç–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"
- ‚úÖ –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –∫–∞—Ä—Ç–æ–π
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥—ã –≤ –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç (Atlas, Pulse, Space, Quest)
- ‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π UI –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω

### UX/UI –ø—Ä–æ–≤–µ—Ä–∫–∏

- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç UI/UX Style Guide
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç DESIGN_SYSTEM.md
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –∏–∑ –¥–∏–∑–∞–π–Ω-—Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞ (desktop + mobile)
- ‚úÖ Hover-—ç—Ñ—Ñ–µ–∫—Ç—ã –∏ transition'—ã
- ‚úÖ –ò–∫–æ–Ω–∫–∏ –∏–∑ lucide-react

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫ merge

#### 1. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

‚úÖ –°–æ–∑–¥–∞–Ω —ç—Ç–æ—Ç –æ—Ç—á—ë—Ç: `GURU_ASIA_IMPLEMENTATION_REPORT.md`

‚è≥ –û–±–Ω–æ–≤–∏—Ç—å `FRONTEND_MODULES_STATUS.md`:
- –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å Guru Asia —Å "üìã –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è" –Ω–∞ "‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ~85%"
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

‚è≥ –û–±–Ω–æ–≤–∏—Ç—å `MODULES_DEVELOPMENT_PLAN.md`:
- –û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ Guru Asia
- –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å

#### 2. Storybook (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–∞ –±—É–¥—É—â–µ–µ)

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Guru —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã –¥–ª—è –º–æ–¥—É–ª—è –∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é `@go2asia/ui`. Storybook –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –Ω–∏—Ö —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –±—É–¥—É—â–µ–º –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- `GuruFilters.stories.tsx`
- `GuruMapView.stories.tsx`
- `ObjectCard.stories.tsx`

#### 3. –¢–µ—Å—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, Phase 2)

- Unit-—Ç–µ—Å—Ç—ã –¥–ª—è `filterEvents()`, `applyFilters()`, `rankObjects()`
- Unit-—Ç–µ—Å—Ç—ã –¥–ª—è `calculateDistance()`, `addDistanceToObjects()`
- E2E —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ Guru Asia (Playwright)

---

## –ò—Ç–æ–≥–∏

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è Guru Asia

**Guru Asia** ‚Äî —ç—Ç–æ –º–æ—Å—Ç –º–µ–∂–¥—É –≤—Å–µ–º–∏ –º–æ–¥—É–ª—è–º–∏ Go2Asia. –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å: **"–ß—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ —Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π –°–ï–ô–ß–ê–°?"**

### –ß—Ç–æ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ

‚úÖ **–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Split UI** —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ–π OSM –∏ —Å–ø–∏—Å–∫–æ–º –æ–±—ä–µ–∫—Ç–æ–≤  
‚úÖ **5 —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤** —Å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ (–º–µ—Å—Ç–∞, —Å–æ–±—ã—Ç–∏—è, –∂–∏–ª—å—ë, –ª—é–¥–∏, –∫–≤–µ—Å—Ç—ã)  
‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞** —Å —Ü–≤–µ—Ç–æ–≤—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏, –ø–æ–ø–∞–ø–∞–º–∏ –∏ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏  
‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤** —Å URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –∏ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º –º–æ–±–∏–ª—å–Ω—ã–º UI  
‚úÖ **–£–º–Ω–æ–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å —Ç—Ä–µ–º—è —Ä–µ–∂–∏–º–∞–º–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (–ë–ª–∏–∂–µ/–°–µ–π—á–∞—Å/–¢–æ–ø)  
‚úÖ **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è** —Å fallback –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—É—é –ø–æ–∑–∏—Ü–∏—é  
‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è desktop –∏ mobile  
‚úÖ **36 –¥–µ–º–æ-–æ–±—ä–µ–∫—Ç–æ–≤** –¥–ª—è –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞  
‚úÖ **–ë–µ—Å—à–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** –≤ –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏ (Atlas, Pulse, Space, Quest)

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞** –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–º–µ—Å—Ç–∞, —Å–æ–±—ã—Ç–∏—è, –∂–∏–ª—å—ë, –ª—é–¥–∏, –∫–≤–µ—Å—Ç—ã)  
‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å** (–±–ª–∏–∑–æ—Å—Ç—å + –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å + –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å)  
‚úÖ **–ë–µ—Å—à–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏)  
‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** (–∫–∞—Ä—Ç–∞ + —Å–ø–∏—Å–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã)  
‚úÖ **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å** (opt-in –º–æ–¥–µ–ª—å, —Ç–æ—á–Ω–æ—Å—Ç—å "–∫–≤–∞—Ä—Ç–∞–ª")

### –ü—Ä–æ–≥—Ä–µ—Å—Å –º–æ–¥—É–ª—è Guru Asia

**–î–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 0%  
**–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Phase 1 (MVP):** ~85% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞  
**–ü–æ–ª–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (Phase 3):** ~95% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production:** ‚úÖ MVP –≥–æ—Ç–æ–≤ (–±–µ–∑ backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### ‚úÖ –ö–∞—Ä—Ç–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ OpenStreetMap
- –¶–≤–µ—Ç–æ–≤—ã–µ –º–∞—Ä–∫–µ—Ä—ã –ø–æ —Ç–∏–ø–∞–º –æ–±—ä–µ–∫—Ç–æ–≤
- –ü–æ–ø–∞–ø—ã —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"
- –ö—Ä—É–≥ —Ä–∞–¥–∏—É—Å–∞ –≤–æ–∫—Ä—É–≥ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ú–∞—Ä–∫–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø—É–ª—å—Å–∞—Ü–∏–µ–π
- Zoom controls

#### ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/–∞–¥—Ä–µ—Å—É
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø–∞–º –æ–±—ä–µ–∫—Ç–æ–≤ (–º—É–ª—å—Ç–∏—Å–µ–ª–µ–∫—Ç)
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ä–∞–¥–∏—É—Å—É (600/800/1000/1200 –º)
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–í—Å–µ/–°–µ–π—á–∞—Å/–°–µ–≥–æ–¥–Ω—è/–í—ã—Ö–æ–¥–Ω—ã–µ)
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º –º–µ—Å—Ç (Wi-Fi, —Ä–æ–∑–µ—Ç–∫–∏, –∫–æ—Ñ–µ, —Ç–∏—Ö–æ, –¥–µ—Ç—Å–∫–æ–µ, RF)
- URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π UI —Å Bottom Sheet

#### ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–µ–∂–∏–º "–ë–ª–∏–∂–µ" ‚Äî –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
- –†–µ–∂–∏–º "–°–µ–π—á–∞—Å" ‚Äî –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ + –æ—Ç–∫—Ä—ã—Ç–æ–µ
- –†–µ–∂–∏–º "–¢–æ–ø" ‚Äî –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
- –ê–ª–≥–æ—Ä–∏—Ç–º scoring —Å –≤–µ—Å–∞–º–∏

#### ‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
- –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Fallback –Ω–∞ IP Geolocation
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ localStorage
- –î–µ—Ñ–æ–ª—Ç–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫)

#### ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è
- –ü–µ—Ä–µ—Ö–æ–¥—ã –≤ Atlas (–º–µ—Å—Ç–∞)
- –ü–µ—Ä–µ—Ö–æ–¥—ã –≤ Pulse (—Å–æ–±—ã—Ç–∏—è)
- –ü–µ—Ä–µ—Ö–æ–¥—ã –≤ Space (–ª—é–¥–∏/PRO)
- –ü–µ—Ä–µ—Ö–æ–¥—ã –≤ Quest Asia (–∫–≤–µ—Å—Ç—ã)
- –ü–µ—Ä–µ—Ö–æ–¥—ã –≤ AIRent NSK (–∂–∏–ª—å—ë)
- –ö–Ω–æ–ø–∫–∞ "–ú–∞—Ä—à—Ä—É—Ç" ‚Üí Google Maps

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è ~98%
- ‚úÖ SSR-safe –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç Leaflet)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (debounce, memoization)
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (desktop + mobile)
- ‚úÖ URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –£—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π –Ω–∞ Netlify

### –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. ‚úÖ TypeScript –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ (—Ç–∏–ø–∏–∑–∞—Ü–∏—è `GuruObjectWithDistance`)
2. ‚úÖ –§–∏–ª—å—Ç—Ä—ã –∑–∞–∫—Ä—ã–≤–∞—é—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π UI + Bottom Sheet)
3. ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –≤ –ø–æ–ø–∞–ø–∞—Ö (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ")
4. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –∏ —Å–ø–∏—Å–∫–∞ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞)

### –ß—Ç–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–æ—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ Phase 2)

- ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend API (Content Service)
- ‚è≥ –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤ (leaflet.markercluster)
- ‚è≥ –ú–∞—Ä—à—Ä—É—Ç—ã (Directions) —Å OpenRouteService
- ‚è≥ Offline —Ä–µ–∂–∏–º (Service Worker)
- ‚è≥ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (ML-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫ merge

#### ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä: 0 –æ—à–∏–±–æ–∫
- ‚úÖ TypeScript: –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Build: —É—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞ –Ω–∞ Netlify
- ‚úÖ Deployment: —É—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ production
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

#### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ Split UI —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–∞—Ä—Ç–∞ + —Å–ø–∏—Å–æ–∫)
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ URL-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å fallback
- ‚úÖ –ü–æ–ø–∞–ø—ã –Ω–∞ –∫–∞—Ä—Ç–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- ‚úÖ –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –∫–∞—Ä—Ç–æ–π
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥—ã –≤ –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

#### üìù –ü–µ—Ä–µ–¥ merge –≤ main

1. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
   - ‚úÖ –°–æ–∑–¥–∞–Ω –æ—Ç—á—ë—Ç: `GURU_ASIA_IMPLEMENTATION_REPORT.md`
   - ‚è≥ –û–±–Ω–æ–≤–∏—Ç—å `FRONTEND_MODULES_STATUS.md`
   - ‚è≥ –û–±–Ω–æ–≤–∏—Ç—å `MODULES_DEVELOPMENT_PLAN.md`

2. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (Phase 2):**
   - Storybook –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Guru
   - Unit-—Ç–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç (geo, filters, ranking)
   - E2E —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª:** AI Assistant  
**–î–∞—Ç–∞:** 26.11.2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ merge –≤ main

